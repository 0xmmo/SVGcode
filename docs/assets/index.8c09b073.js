const wn=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerpolicy&&(c.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?c.credentials="include":i.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(i){if(i.ep)return;i.ep=!0;const c=n(i);fetch(i.href,c)}};wn();const bn="modulepreload",wt={},_n="/",p=function(t,n){return!n||n.length===0?t():Promise.all(n.map(r=>{if(r=`${_n}${r}`,r in wt)return;wt[r]=!0;const i=r.endsWith(".css"),c=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${c}`))return;const s=document.createElement("link");if(s.rel=i?"stylesheet":bn,i||(s.as="script",s.crossOrigin=""),s.href=r,document.head.appendChild(s),i)return new Promise((a,o)=>{s.addEventListener("load",a),s.addEventListener("error",()=>o(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())},V=document.querySelector("canvas"),Jr=document.querySelector(".menu"),Zr=document.querySelector("main"),bt=document.querySelector(".details"),O=document.querySelector(".posterize"),En=document.querySelector("[for=posterize]"),k=document.querySelector(".color"),Ln=document.querySelector("[for=color]"),R=document.querySelector(".monochrome"),kn=document.querySelector("[for=monochrome]"),j=document.querySelector(".consider-dpr"),Sn=document.querySelector('[for="consider-dpr"]'),C=document.querySelector(".optimize-curves"),xn=document.querySelector('[for="optimize-curves"]'),Y=document.querySelector(".show-advanced"),Pn=document.querySelector('[for="show-advanced"]'),y=document.querySelector("img"),ht=document.querySelector(".reset-all"),Ce=document.querySelector(".open"),Ae=document.querySelector(".save"),Oe=document.querySelector(".copy"),Re=document.querySelector(".paste"),Te=document.querySelector(".install"),w=document.querySelector(".svg-output"),ge=document.querySelector(".debug"),Ie=document.querySelector("progress"),be=document.querySelector(".toast"),Ue=document.documentElement,lt=document.querySelector("details.main"),He=document.querySelector("summary"),Nt=document.querySelector(".close-options-button"),Cn=document.querySelector(".license"),An=document.querySelector(".about"),ie=document.querySelector("pinch-zoom"),Me=document.querySelector(".language"),Q=window.devicePixelRatio;ie.addEventListener("change",()=>{const{x:e,y:t,scale:n}=ie;w.setAttribute("transform",`translate(${e}, ${t}) scale(${n})`)});ie.addEventListener("pointerdown",()=>{ie.style.cursor="grabbing"});ie.addEventListener("pointerup",()=>{ie.style.cursor=""});const Ut=()=>{w.setAttribute("transform","")},$e=(e,t)=>{let n;return function(...i){const c=()=>{clearTimeout(n),e(...i)};clearTimeout(n),n=setTimeout(c,t)}};/*!
 * canvas-size
 * v1.2.5
 * https://github.com/jhildenbiddle/canvas-size
 * (c) 2015-2021 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_t(Object(n),!0).forEach(function(r){On(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function On(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rn(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,c;for(c=0;c<r.length;c++)i=r[c],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Tn(e,t){if(e==null)return{};var n=Rn(e,t),r,i;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)r=c[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function Et(e,t){return $n(e)||Mn(e,t)||Bt(e,t)||Vn()}function _e(e){return In(e)||jn(e)||Bt(e)||Dn()}function In(e){if(Array.isArray(e))return ut(e)}function $n(e){if(Array.isArray(e))return e}function jn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mn(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,c=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(o){c=!0,a=o}finally{try{!i&&n.return!=null&&n.return()}finally{if(c)throw a}}return r}}function Bt(e,t){if(!!e){if(typeof e=="string")return ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ut(e,t)}}function ut(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ve(e){var t=e.sizes.shift(),n=Math.max(Math.ceil(t[0]),1),r=Math.max(Math.ceil(t[1]),1),i=[n-1,r-1,1,1],c=Date.now(),s=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,a,o;s?(a=new OffscreenCanvas(1,1),o=new OffscreenCanvas(n,r)):(a=document.createElement("canvas"),a.width=1,a.height=1,o=document.createElement("canvas"),o.width=n,o.height=r);var l=a.getContext("2d"),u=o.getContext("2d");u&&(u.fillRect.apply(u,i),l.drawImage(o,n-1,r-1,1,1,0,0,1,1));var h=l&&l.getImageData(0,0,1,1).data[3]!==0,d=Date.now()-c;return s?(postMessage({width:n,height:r,benchmark:d,isTestPass:h}),!h&&e.sizes.length&&ve(e)):h?e.onSuccess(n,r,d):(e.onError(n,r,d),e.sizes.length&&ve(e)),h}var Fe={area:[16384,14188,11402,11180,10836,8192,4096,1],height:[8388607,65535,32767,16384,8192,4096,1],width:[4194303,65535,32767,16384,8192,4096,1]},zn=["onError","onSuccess"],ee={max:null,min:1,sizes:[],step:1024,usePromise:!1,useWorker:!1,onError:Function.prototype,onSuccess:Function.prototype},le={};function Ge(e){var t=e.width===e.height,n=e.height===1,r=e.width===1,i=[];if(!e.width||!e.height)e.sizes.forEach(function(u){var h=t||n?u:1,d=t||r?u:1;i.push([h,d])});else for(var c=e.min||ee.min,s=e.step||ee.step,a=Math.max(e.width,e.height);a>=c;){var o=t||n?a:1,l=t||r?a:1;i.push([o,l]),a-=s}return i}function Ee(e){var t=window&&"HTMLCanvasElement"in window,n=window&&"OffscreenCanvas"in window,r=Date.now(),i=e.onError,c=e.onSuccess,s=Tn(e,zn),a=null;if(!t)return!1;if(e.useWorker&&n){var o=`
            var canvasTest = `.concat(ve.toString(),`;
            onmessage = function(e) {
                canvasTest(e.data);
            };
        `),l=new Blob([o],{type:"application/javascript"}),u=URL.createObjectURL(l);a=new Worker(u),URL.revokeObjectURL(u),a.onmessage=function(h){var d=h.data,f=d.width,L=d.height,M=d.benchmark,W=d.isTestPass;W?(le[r].onSuccess(f,L,M),delete le[r]):le[r].onError(f,L,M)}}if(e.usePromise)return new Promise(function(h,d){var f=P(P({},e),{},{onError:function(K,J,ce){var qe;if(e.sizes.length===0)qe=!0;else{var fn=e.sizes.slice(-1),gn=Et(fn,1),yt=Et(gn[0],2),vn=yt[0],yn=yt[1];qe=K===vn&&J===yn}i(K,J,ce),qe&&d({width:K,height:J,benchmark:ce})},onSuccess:function(K,J,ce){c(K,J,ce),h({width:K,height:J,benchmark:ce})}});if(a){var L=f.onError,M=f.onSuccess;le[r]={onError:L,onSuccess:M},a.postMessage(s)}else ve(f)});if(a)le[r]={onError:i,onSuccess:c},a.postMessage(s);else return ve(e)}var Nn={maxArea:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=Ge({width:t.max,height:t.max,min:t.min,step:t.step,sizes:_e(Fe.area)}),r=P(P(P({},ee),t),{},{sizes:n});return Ee(r)},maxHeight:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=Ge({width:1,height:t.max,min:t.min,step:t.step,sizes:_e(Fe.height)}),r=P(P(P({},ee),t),{},{sizes:n});return Ee(r)},maxWidth:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=Ge({width:t.max,height:1,min:t.min,step:t.step,sizes:_e(Fe.width)}),r=P(P(P({},ee),t),{},{sizes:n});return Ee(r)},test:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=P(P({},ee),t);return n.sizes=_e(n.sizes),n.width&&n.height&&(n.sizes=[[n.width,n.height]]),Ee(n)}};let Wt,qt;const Ht="OffscreenCanvas"in window&&"CanvasFilter"in window;if(Ht)p(()=>import("./preprocessworker.6bb03fc8.js"),[]).then(e=>{const t=e.default;let n=null;const r=V.getContext("2d");Wt=async()=>{n&&n.terminate(),n=new t;const i=V.cloneNode().transferControlToOffscreen();return n.postMessage({offscreen:i},[i]),new Promise(async c=>{const{width:s,height:a}=Lt();let o;try{o=await createImageBitmap(y)}catch{try{o=await createImageBitmap(y,0,0,s,a)}catch(u){console.error(u.name,u.message),w.innerHTML="",A(u.message);return}}const l=new MessageChannel;l.port1.onmessage=({data:u})=>{l.port1.close(),n&&(n.terminate(),n=null),V.width=s,V.height=a,r.putImageData(u.result,0,0),c(u.result)},n.postMessage({inputImageBitmap:o,posterize:O.checked,rgba:{r:U(v[x.red]),g:U(v[x.green]),b:U(v[x.blue]),a:U(v[x.alpha])},cssFilters:Ft(),rotate:Number(v[we.rotation].value),width:s,height:a,dpr:Q},[l.port2])})}});else{const e=V.getContext("2d",{desynchronized:!0});e.scale(Q,Q),e.imageSmoothingEnabled=!0,qt=()=>{let{width:t,height:n}=Lt();const r=j.checked?Q:1;let i=1;for(;!Nn.test({width:t,height:n});)t=Math.floor(t/2),n=Math.floor(n/2),i/=2;V.width=t,V.height=n,e.clearRect(0,0,t,n),e.filter=Bn(),e.setTransform(1,0,0,1,t/2,n/2);const c=Number(v[we.rotation].value);return e.rotate(c*Math.PI/180),e.drawImage(y,-r*y.naturalWidth*i/2,-r*y.naturalHeight*i/2),e.getImageData(0,0,t,n)}}const Lt=()=>{const e=Number(v[we.scale].value)/100;return{width:Math.ceil(Q*y.naturalWidth*e),height:Math.ceil(Q*y.naturalHeight*e)}},U=e=>{const t=Number(e.value),n=[];for(let r=0;r<=t;r++)n[r]=Number((1/t*r).toFixed(1));return n},Un=()=>`data:image/svg+xml;utf8,<svg
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
    >
      <filter id="posterize">
        <feComponentTransfer>
          <feFuncR type="discrete" tableValues="${U(v[x.red]).join(",")}" />
          <feFuncG type="discrete" tableValues="${U(v[x.green]).join(",")}" />
          <feFuncB type="discrete" tableValues="${U(v[x.blue]).join(",")}" />
          <feFuncA type="discrete" tableValues="${U(v[x.alpha])}" />
        </feComponentTransfer>
      </filter>
    </svg>`.replace(/[\r\n]/g,"").replace(/\s+/g," ").trim(),Ft=()=>{let e="";for(const[t,n]of Object.entries(un)){const r=v[t];n.initial!==Number(r.value)&&(e+=`${t}(${r.value}${r.dataset.unit}) `)}return e},Bn=()=>{let e=`${O.checked?`url('${Un()}#posterize') `:""}`;return e+=Ft(),e.trim()||"none"};function Wn(){return new Worker("/assets/monochromeworker.ee1cfa6e.js",{type:"module"})}let q=null;const qn=async e=>(q&&q.terminate(),q=new Wn,new Promise(async t=>{const n=new MessageChannel;n.port1.onmessage=({data:i})=>{n.port1.close(),q&&(q.terminate(),q=null),t(i.result)};const r={turdsize:Number(v[E.turdsize].value),alphamax:Number(v[E.alphamax].value),turnpolicy:Number(v[E.turnpolicy].value),opttolerance:Number(v[E.opttolerance].value),opticurve:C.checked?1:0,extractcolors:!1};q.postMessage({imageData:e,params:r},[n.port2])}));function Hn(){return new Worker("/assets/colorworker.893f8723.js",{type:"module"})}let H=null;const $={},Fn=async e=>(H&&H.terminate(),H=new Hn,new Promise(async t=>{const n=new MessageChannel;n.port1.onmessage=({data:l})=>{n.port1.close(),H&&(H.terminate(),H=null),t(l.result)},Ie.value=0;let r="",i="",c="",s=0;$.current&&(clearInterval($.current),$.current=null),$.current=setInterval(()=>{const l=`${r}${c}${i}`;if(l.length!==s){const u=w.dataset.transform;u&&w.setAttribute("transform",u),w.innerHTML=l,s=l.length}},500);const a=new MessageChannel;a.port1.onmessage=({data:l})=>{const u=Math.floor(l.processed/l.total*100);Ie.value=u,l.svg&&(r||(r=l.svg.replace(/(.*?<svg[^>]+>)(.*?)(<\/svg>)/,"$1").replace(/\s+width="\d+(?:\.\d+)?"/,"").replace(/\s+height="\d+(?:\.\d+)"/,""),i=l.svg.replace(/(.*?<svg[^>]+>)(.*?)(<\/svg>)/,"$3")),c+=l.svg.replace(/(.*?<svg[^>]+>)(.*?)(<\/svg>)/,"$2")),l.processed===l.total&&(clearInterval($.current),$.current=null,a.port1.close(),Ie.value=0)};const o={minPathSegments:Number(v[E.minPathLength].value),strokeWidth:Number(v[E.strokeWidth].value),turdsize:Number(v[E.turdsize].value),alphamax:Number(v[E.alphamax].value),turnpolicy:Number(v[E.turnpolicy].value),opttolerance:Number(v[E.opttolerance].value),opticurve:C.checked?1:0,extractcolors:!1,posterizelevel:2,posterizationalgorithm:0};H.postMessage({imageData:e,params:o},[n.port2,a.port2])}));function Gn(e){switch(e){case"../i18n/ar-TN.js":return p(()=>import("./ar-TN.f333a3b9.js"),["assets/ar-TN.f333a3b9.js","assets/languages.7cf2e360.js"]);case"../i18n/ca-ES.js":return p(()=>import("./ca-ES.93410033.js"),["assets/ca-ES.93410033.js","assets/languages.7cf2e360.js"]);case"../i18n/da-DK.js":return p(()=>import("./da-DK.26d72918.js"),["assets/da-DK.26d72918.js","assets/languages.7cf2e360.js"]);case"../i18n/de-DE.js":return p(()=>import("./de-DE.77d46b54.js"),["assets/de-DE.77d46b54.js","assets/languages.7cf2e360.js"]);case"../i18n/el-GR.js":return p(()=>import("./el-GR.468ff0cb.js"),["assets/el-GR.468ff0cb.js","assets/languages.7cf2e360.js"]);case"../i18n/en-GB.js":return p(()=>import("./en-GB.34611a76.js"),["assets/en-GB.34611a76.js","assets/languages.7cf2e360.js"]);case"../i18n/en-US.js":return p(()=>import("./en-US.4562f831.js"),["assets/en-US.4562f831.js","assets/languages.7cf2e360.js"]);case"../i18n/es-ES.js":return p(()=>import("./es-ES.ed0aa6e2.js"),["assets/es-ES.ed0aa6e2.js","assets/languages.7cf2e360.js"]);case"../i18n/fr-FR.js":return p(()=>import("./fr-FR.2364238a.js"),["assets/fr-FR.2364238a.js","assets/languages.7cf2e360.js"]);case"../i18n/he-IL.js":return p(()=>import("./he-IL.35452059.js"),["assets/he-IL.35452059.js","assets/languages.7cf2e360.js"]);case"../i18n/id-ID.js":return p(()=>import("./id-ID.97ef26d2.js"),["assets/id-ID.97ef26d2.js","assets/languages.7cf2e360.js"]);case"../i18n/it-IT.js":return p(()=>import("./it-IT.1fe0e462.js"),["assets/it-IT.1fe0e462.js","assets/languages.7cf2e360.js"]);case"../i18n/ja-JP.js":return p(()=>import("./ja-JP.d0648db3.js"),["assets/ja-JP.d0648db3.js","assets/languages.7cf2e360.js"]);case"../i18n/ko-KR.js":return p(()=>import("./ko-KR.8bd6c74c.js"),["assets/ko-KR.8bd6c74c.js","assets/languages.7cf2e360.js"]);case"../i18n/languages.js":return p(()=>import("./languages.7cf2e360.js"),[]);case"../i18n/nl-NL.js":return p(()=>import("./nl-NL.cd713ba6.js"),["assets/nl-NL.cd713ba6.js","assets/languages.7cf2e360.js"]);case"../i18n/no-NO.js":return p(()=>import("./no-NO.76e6345e.js"),["assets/no-NO.76e6345e.js","assets/languages.7cf2e360.js"]);case"../i18n/pl-PL.js":return p(()=>import("./pl-PL.236d5cd9.js"),["assets/pl-PL.236d5cd9.js","assets/languages.7cf2e360.js"]);case"../i18n/pt-BR.js":return p(()=>import("./pt-BR.e9f9a24c.js"),["assets/pt-BR.e9f9a24c.js","assets/languages.7cf2e360.js"]);case"../i18n/ru-RU.js":return p(()=>import("./ru-RU.c8300f26.js"),["assets/ru-RU.c8300f26.js","assets/languages.7cf2e360.js"]);case"../i18n/uk-UA.js":return p(()=>import("./uk-UA.471e6054.js"),["assets/uk-UA.471e6054.js","assets/languages.7cf2e360.js"]);case"../i18n/zh-CN.js":return p(()=>import("./zh-CN.c82a568c.js"),["assets/zh-CN.c82a568c.js","assets/languages.7cf2e360.js"]);default:return new Promise(function(t,n){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}function Yn(e){switch(e){case"../i18n/ar-TN.js":return p(()=>import("./ar-TN.f333a3b9.js"),["assets/ar-TN.f333a3b9.js","assets/languages.7cf2e360.js"]);case"../i18n/ca-ES.js":return p(()=>import("./ca-ES.93410033.js"),["assets/ca-ES.93410033.js","assets/languages.7cf2e360.js"]);case"../i18n/da-DK.js":return p(()=>import("./da-DK.26d72918.js"),["assets/da-DK.26d72918.js","assets/languages.7cf2e360.js"]);case"../i18n/de-DE.js":return p(()=>import("./de-DE.77d46b54.js"),["assets/de-DE.77d46b54.js","assets/languages.7cf2e360.js"]);case"../i18n/el-GR.js":return p(()=>import("./el-GR.468ff0cb.js"),["assets/el-GR.468ff0cb.js","assets/languages.7cf2e360.js"]);case"../i18n/en-GB.js":return p(()=>import("./en-GB.34611a76.js"),["assets/en-GB.34611a76.js","assets/languages.7cf2e360.js"]);case"../i18n/en-US.js":return p(()=>import("./en-US.4562f831.js"),["assets/en-US.4562f831.js","assets/languages.7cf2e360.js"]);case"../i18n/es-ES.js":return p(()=>import("./es-ES.ed0aa6e2.js"),["assets/es-ES.ed0aa6e2.js","assets/languages.7cf2e360.js"]);case"../i18n/fr-FR.js":return p(()=>import("./fr-FR.2364238a.js"),["assets/fr-FR.2364238a.js","assets/languages.7cf2e360.js"]);case"../i18n/he-IL.js":return p(()=>import("./he-IL.35452059.js"),["assets/he-IL.35452059.js","assets/languages.7cf2e360.js"]);case"../i18n/id-ID.js":return p(()=>import("./id-ID.97ef26d2.js"),["assets/id-ID.97ef26d2.js","assets/languages.7cf2e360.js"]);case"../i18n/it-IT.js":return p(()=>import("./it-IT.1fe0e462.js"),["assets/it-IT.1fe0e462.js","assets/languages.7cf2e360.js"]);case"../i18n/ja-JP.js":return p(()=>import("./ja-JP.d0648db3.js"),["assets/ja-JP.d0648db3.js","assets/languages.7cf2e360.js"]);case"../i18n/ko-KR.js":return p(()=>import("./ko-KR.8bd6c74c.js"),["assets/ko-KR.8bd6c74c.js","assets/languages.7cf2e360.js"]);case"../i18n/languages.js":return p(()=>import("./languages.7cf2e360.js"),[]);case"../i18n/nl-NL.js":return p(()=>import("./nl-NL.cd713ba6.js"),["assets/nl-NL.cd713ba6.js","assets/languages.7cf2e360.js"]);case"../i18n/no-NO.js":return p(()=>import("./no-NO.76e6345e.js"),["assets/no-NO.76e6345e.js","assets/languages.7cf2e360.js"]);case"../i18n/pl-PL.js":return p(()=>import("./pl-PL.236d5cd9.js"),["assets/pl-PL.236d5cd9.js","assets/languages.7cf2e360.js"]);case"../i18n/pt-BR.js":return p(()=>import("./pt-BR.e9f9a24c.js"),["assets/pt-BR.e9f9a24c.js","assets/languages.7cf2e360.js"]);case"../i18n/ru-RU.js":return p(()=>import("./ru-RU.c8300f26.js"),["assets/ru-RU.c8300f26.js","assets/languages.7cf2e360.js"]);case"../i18n/uk-UA.js":return p(()=>import("./uk-UA.471e6054.js"),["assets/uk-UA.471e6054.js","assets/languages.7cf2e360.js"]);case"../i18n/zh-CN.js":return p(()=>import("./zh-CN.c82a568c.js"),["assets/zh-CN.c82a568c.js","assets/languages.7cf2e360.js"]);default:return new Promise(function(t,n){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}const Le="language",Xn=["ar","ca","da","de","el","en","es","fr","he","id","it","ja","ko","nl","no","pl","pt","ru","uk","zh"],Kn=["ar-TN","ca-ES","da-DK","de-DE","el-GR","en-GB","en-US","es-ES","fr-FR","he-IL","id-ID","it-IT","ja-JP","ko-KR","nl-NL","no-NO","pl-PL","pt-BR","ru-RU","uk-UA","zh-CN"],Jn=["ar","fa","he","ur"];class Zn{constructor(){this.defaultLanguage="en",this.defaultLocale="US",this.translations=null,this.supportedLanguages=Xn,this.supportedLocales=Kn,this.currentLanguageAndLocale=this.detectOrRestoreLanguageAndLocale()}findBestMatchingLanguageAndLocale(t,n){return n&&(n=n.toUpperCase()),!t||!this.supportedLanguages.includes(t)?(t=this.defaultLanguage,n=this.defaultLocale):(!n||!this.supportedLocales.includes(`${t}-${n}`))&&(n=this.supportedLocales.find(r=>r.startsWith(`${t}-`)).split("-")[1]),{language:t,locale:n}}detectOrRestoreLanguageAndLocale(){const t=new URL(location),n=t.searchParams,r=n.get("lang");if(r){n.delete("lang"),history.pushState({},"",t);const[l,u=""]=r.split("-"),{language:h,locale:d}=this.findBestMatchingLanguageAndLocale(l,u);return this.setLanguageAndLocale(h,d),{language:h,locale:d}}const i=localStorage.getItem(Le);if(i){const{language:l,locale:u}=JSON.parse(i);return this.setLanguageAndLocale(l,u),{language:l,locale:u}}const[c,s=""]=navigator.language?.split("-"),{language:a,locale:o}=this.findBestMatchingLanguageAndLocale(c,s);return this.setLanguageAndLocale(a,o),{language:a,locale:o}}async setLanguageAndLocale(t,n){this.supportedLanguages.includes(t)||(localStorage.removeItem(Le),t=this.defaultLanguage,n=this.defaultLocale),n&&!this.supportedLocales.includes(`${t}-${n}`)&&(localStorage.removeItem(Le),t=this.defaultLanguage,n=this.defaultLocale),this.currentLanguageAndLocale={language:t,locale:n},localStorage.setItem(Le,JSON.stringify(this.currentLanguageAndLocale)),document.documentElement.lang=`${t}${n?`-${n}`:""}`,Jn.includes(t)?document.documentElement.dir="rtl":document.documentElement.dir="ltr",await this.getTranslations()}async getTranslations(){const{language:t,locale:n}=this.currentLanguageAndLocale;this.translations=(await Yn(`../i18n/${t}${n?`-${n}`:""}.js`).catch(()=>Gn(`../i18n/${this.defaultLocale}.js`))).default}t(t){return this.translations[t]||"\u26D4\uFE0F Missing translation"}}const m=new Zn;var Qn='<svg viewBox="0 0 57 57" xmlns="http://www.w3.org/2000/svg" stroke="currentColor"><g transform="translate(1 1)" stroke-width="2" fill="none" fill-rule="evenodd"><circle cx="5" cy="50" r="5"><animate attributeName="cy" begin="0s" dur="2.2s" values="50;5;50;50" calcMode="linear" repeatCount="indefinite"/><animate attributeName="cx" begin="0s" dur="2.2s" values="5;27;49;5" calcMode="linear" repeatCount="indefinite"/></circle><circle cx="27" cy="5" r="5"><animate attributeName="cy" begin="0s" dur="2.2s" from="5" to="5" values="5;50;50;5" calcMode="linear" repeatCount="indefinite"/><animate attributeName="cx" begin="0s" dur="2.2s" from="27" to="27" values="27;49;5;27" calcMode="linear" repeatCount="indefinite"/></circle><circle cx="49" cy="50" r="5"><animate attributeName="cy" begin="0s" dur="2.2s" values="50;50;5;50" calcMode="linear" repeatCount="indefinite"/><animate attributeName="cx" from="49" to="49" begin="0s" dur="2.2s" values="49;5;27;49" calcMode="linear" repeatCount="indefinite"/></circle></g></svg>';const kt=(e,t)=>{!e||(e=e.replace(/\s+width="\d+(?:\.\d+)?"/,"").replace(/\s+height="\d+(?:\.\d+)"/,""),w.classList.remove(Ve),w.classList.remove(ze),w.classList.add(t),w.innerHTML=e,A(`${m.t("svgSize")}: ${e.length} ${m.t("bytes")}`,3e3))},T=async()=>{w.innerHTML="",w.classList.remove(Ve,ze),$.current&&(clearInterval($.current),$.current=null);const e=w.getAttribute("transform");w.innerHTML=Qn,e&&(w.dataset.transform=e,w.setAttribute("transform",""));const t=Ht?await Wt():qt();if(k.checked){const n=await Fn(t);e&&w.setAttribute("transform",e),kt(n,Ve)}else{const n=await qn(t);e&&w.setAttribute("transform",e),kt(n,ze)}};var er=Object.defineProperty,ae=(e,t)=>()=>(e&&(t=e(e=0)),t),oe=(e,t)=>{for(var n in t)er(e,n,{get:t[n],enumerable:!0})},Gt={};oe(Gt,{default:()=>Yt});var Yt,tr=ae(()=>{Yt=async(e=[{}])=>(Array.isArray(e)||(e=[e]),new Promise((t,n)=>{let r=document.createElement("input");r.type="file";let i=[...e.map(o=>o.mimeTypes||[]),...e.map(o=>o.extensions||[])].join();r.multiple=e[0].multiple||!1,r.accept=i||"";let c=()=>a(n),s=o=>{typeof a=="function"&&a(),t(o)},a=e[0].legacySetup&&e[0].legacySetup(s,c,r);r.addEventListener("change",()=>{s(r.multiple?Array.from(r.files):r.files[0])}),r.click()}))}),Xt={};oe(Xt,{default:()=>Kt});var St,Kt,nr=ae(()=>{St=async e=>{let t=await e.getFile();return t.handle=e,t},Kt=async(e=[{}])=>{Array.isArray(e)||(e=[e]);let t=[];e.forEach((i,c)=>{t[c]={description:i.description||"",accept:{}},i.mimeTypes?i.mimeTypes.map(s=>{t[c].accept[s]=i.extensions||[]}):t[c].accept["*/*"]=i.extensions||[]});let n=await window.showOpenFilePicker({id:e[0].id,startIn:e[0].startIn,types:t,multiple:e[0].multiple||!1,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1}),r=await Promise.all(n.map(St));return e[0].multiple?r:r[0]}}),Jt={};oe(Jt,{default:()=>Zt});var Zt,rr=ae(()=>{Zt=async(e=[{}])=>(Array.isArray(e)||(e=[e]),e[0].recursive=e[0].recursive||!1,new Promise((t,n)=>{let r=document.createElement("input");r.type="file",r.webkitdirectory=!0;let i=()=>s(n),c=a=>{typeof s=="function"&&s(),t(a)},s=e[0].legacySetup&&e[0].legacySetup(c,i,r);r.addEventListener("change",()=>{let a=Array.from(r.files);e[0].recursive?e[0].recursive&&e[0].skipDirectory&&(a=a.filter(o=>o.webkitRelativePath.split("/").every(l=>!e[0].skipDirectory({name:l,kind:"directory"})))):a=a.filter(o=>o.webkitRelativePath.split("/").length===2),c(a)}),r.click()}))}),Qt={};oe(Qt,{default:()=>en});var Ye,en,ir=ae(()=>{Ye=async(e,t,n=e.name,r)=>{let i=[],c=[];for await(let s of e.values()){let a=`${n}/${s.name}`;s.kind==="file"?c.push(s.getFile().then(o=>(o.directoryHandle=e,o.handle=s,Object.defineProperty(o,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>a})))):s.kind==="directory"&&t&&(!r||!r(s))&&i.push(Ye(s,t,a,r))}return[...(await Promise.all(i)).flat(),...await Promise.all(c)]},en=async(e={})=>{e.recursive=e.recursive||!1;let t=await window.showDirectoryPicker({id:e.id,startIn:e.startIn});return Ye(t,e.recursive,void 0,e.skipDirectory)}}),tn={};oe(tn,{default:()=>nn});async function ar(e,t){let n=e.getReader(),r=new ReadableStream({start(c){return s();async function s(){return n.read().then(({done:a,value:o})=>{if(a){c.close();return}return c.enqueue(o),s()})}}}),i=new Response(r);return n.releaseLock(),new Blob([await i.blob()],{type:t})}var nn,or=ae(()=>{nn=async(e,t={})=>{Array.isArray(t)&&(t=t[0]);let n=document.createElement("a"),r=e;"body"in e&&(r=await ar(e.body,e.headers.get("content-type"))),n.download=t.fileName||"Untitled",n.href=URL.createObjectURL(r);let i=()=>s(reject),c=()=>{typeof s=="function"&&s()},s=t.legacySetup&&t.legacySetup(c,i,n);return n.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(n.href),30*1e3),c()}),n.click(),null}}),rn={};oe(rn,{default:()=>an});var an,sr=ae(()=>{an=async(e,t=[{}],n=null,r=!1)=>{Array.isArray(t)||(t=[t]),t[0].fileName=t[0].fileName||"Untitled";let i=[];if(t.forEach((a,o)=>{i[o]={description:a.description||"",accept:{}},a.mimeTypes?(o===0&&(e.type?a.mimeTypes.push(e.type):e.headers&&e.headers.get("content-type")&&a.mimeTypes.push(e.headers.get("content-type"))),a.mimeTypes.map(l=>{i[o].accept[l]=a.extensions||[]})):e.type&&(i[o].accept[e.type]=a.extensions||[])}),n)try{await n.getFile()}catch(a){if(n=null,r)throw a}let c=n||await window.showSaveFilePicker({suggestedName:t[0].fileName,id:t[0].id,startIn:t[0].startIn,types:i,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1}),s=await c.createWritable();return"stream"in e?(await e.stream().pipeTo(s),c):"body"in e?(await e.body.pipeTo(s),c):(await s.write(blob),await s.close(),c)}}),cr=(()=>{if(typeof self>"u")return!1;if("top"in self&&self!==top)try{top.location+""}catch{return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1})(),se=cr,lr=se?Promise.resolve().then(()=>(nr(),Xt)):Promise.resolve().then(()=>(tr(),Gt));async function ur(...e){return(await lr).default(...e)}se?Promise.resolve().then(()=>(ir(),Qt)):Promise.resolve().then(()=>(rr(),Jt));var dr=se?Promise.resolve().then(()=>(sr(),rn)):Promise.resolve().then(()=>(or(),tn));async function hr(...e){return(await dr).default(...e)}// @license © 2020 Google LLC. Licensed under the Apache License, Version 2.0.
function pr(){return new Worker("/assets/svgoworker.656cd216.js",{type:"module"})}let F=null;const je=async e=>(F&&F.terminate(),F=new pr,new Promise(t=>{const n=new MessageChannel;n.port1.onmessage=({data:r})=>{n.port1.close(),F&&(F.terminate(),F=null),t(r.result)},F.postMessage({svg:e},[n.port2])}));function mr(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var t;return new Promise(function(n){var r=function(){return indexedDB.databases().finally(n)};t=setInterval(r,100),r()}).finally(function(){return clearInterval(t)})}function Be(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function fr(e,t){const n=mr().then(()=>{const r=indexedDB.open(e);return r.onupgradeneeded=()=>r.result.createObjectStore(t),Be(r)});return(r,i)=>n.then(c=>i(c.transaction(t,r).objectStore(t)))}let Xe;function pt(){return Xe||(Xe=fr("keyval-store","keyval")),Xe}function ne(e,t=pt()){return t("readonly",n=>Be(n.get(e)))}function B(e,t,n=pt()){return n("readwrite",r=>(r.put(t,e),Be(r.transaction)))}function gr(e,t=pt()){return t("readwrite",n=>(n.delete(e),Be(n.transaction)))}const ye="fileHandle",vr=e=>e?e.name.replace(/\.[^\.]+$/,""):"";Ce.addEventListener("click",async()=>{try{const e=await ur({mimeTypes:["image/*"],description:"Image files"}),t=URL.createObjectURL(e);y.addEventListener("load",()=>{URL.revokeObjectURL(t)},{once:!0}),y.src=t,se&&await B(ye,e.handle)}catch(e){console.error(e.name,e.message),A(e.message)}});document.addEventListener("dragover",e=>{e.preventDefault()});document.addEventListener("dragenter",e=>{e.preventDefault(),Ue.classList.add("dropenter")});document.addEventListener("dragleave",e=>{e.preventDefault(),e.target===document.documentElement&&Ue.classList.remove("dropenter")});document.addEventListener("drop",async e=>{e.preventDefault(),e.stopPropagation(),Ue.classList.remove("dropenter");const t=e.dataTransfer.items[0];if(t.kind==="file"){let n;if(y.addEventListener("load",()=>{URL.revokeObjectURL(n)},{once:!0}),se){const i=await t.getAsFileSystemHandle();if(i.kind!=="file")return;const c=await i.getFile();n=URL.createObjectURL(c),y.src=n,await B(ye,i);return}const r=t.getAsFile();n=URL.createObjectURL(r),y.src=n}});Ae.addEventListener("click",async()=>{try{let e="",t=w.innerHTML,n=null;se&&(e=vr(await ne(ye)),n=await showSaveFilePicker({suggestedName:e,types:[{description:"SVG file",accept:{"image/svg+xml":[".svg"]}}]})),A(m.t("optimizingSVG"),1/0),t=await je(t),A(m.t("savedSVG"));const r=new Blob([t],{type:"image/svg+xml"});await hr(r,{fileName:e,description:"SVG file"},n)}catch(e){console.error(e.name,e.message),A(e.message)}});Re.addEventListener("click",async()=>{try{const e=await navigator.clipboard.read();for(const t of e)for(const n of t.types)if(n.startsWith("image/")){const r=await t.getType(n);if(!r)return;const i=URL.createObjectURL(r);y.src=i;return}}catch(e){console.error(e.name,e.message),A(e.message)}});document.addEventListener("paste",e=>{try{if(!e.clipboardData.files.length)return;const t=e.clipboardData.files[0];if(t.type.startsWith("image/")){const n=URL.createObjectURL(t);y.src=n;return}}catch(t){console.error(t.name,t.message),A(t.message)}});Oe.addEventListener("click",async()=>{let e=w.innerHTML;A(m.t("optimizingSVG"),1/0);try{"ClipboardItem"in window?/Apple/.test(navigator.vendor)?await navigator.clipboard.write([new ClipboardItem({"text/plain":new Promise(async t=>{t(new Blob([e],{type:"text/plain"}))})})]):(e=await je(e),await navigator.clipboard.write([new ClipboardItem({"text/plain":new Promise(async t=>{t(new Blob([e],{type:"text/plain"}))}),"image/svg+xml":new Promise(async t=>{t(new Blob([e],{type:"image/svg+xml"}))})})])):await navigator.clipboard.writeText(await je(e))}catch{e=await je(e);const n=new Blob([e],{type:"text/plain"}),r=new Blob([e],{type:"image/svg+xml"});try{Number(navigator.userAgent.replace(/.*Chrome\/(\d+).*/,"$1"))<=88?await navigator.clipboard.write([new ClipboardItem({[n.type]:n})]):await navigator.clipboard.write([new ClipboardItem({[r.type]:r,[n.type]:n})])}catch{try{await navigator.clipboard.write([new ClipboardItem({[n.type]:n})])}catch(c){A(c.message);return}}}A(m.t("copiedSVG"))});class N{constructor(t){this.id=-1,this.nativePointer=t,this.pageX=t.pageX,this.pageY=t.pageY,this.clientX=t.clientX,this.clientY=t.clientY,self.Touch&&t instanceof Touch?this.id=t.identifier:pe(t)&&(this.id=t.pointerId)}getCoalesced(){if("getCoalescedEvents"in this.nativePointer){const t=this.nativePointer.getCoalescedEvents().map(n=>new N(n));if(t.length>0)return t}return[this]}}const pe=e=>"pointerId"in e,Ke=e=>"changedTouches"in e,xt=()=>{};class yr{constructor(t,{start:n=()=>!0,move:r=xt,end:i=xt,rawUpdates:c=!1,avoidPointerEvents:s=!1}={}){this._element=t,this.startPointers=[],this.currentPointers=[],this._excludeFromButtonsCheck=new Set,this._pointerStart=a=>{if(pe(a)&&a.buttons===0)this._excludeFromButtonsCheck.add(a.pointerId);else if(!(a.buttons&1))return;const o=new N(a);this.currentPointers.some(l=>l.id===o.id)||!this._triggerPointerStart(o,a)||(pe(a)?((a.target&&"setPointerCapture"in a.target?a.target:this._element).setPointerCapture(a.pointerId),this._element.addEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.addEventListener("pointerup",this._pointerEnd),this._element.addEventListener("pointercancel",this._pointerEnd)):(window.addEventListener("mousemove",this._move),window.addEventListener("mouseup",this._pointerEnd)))},this._touchStart=a=>{for(const o of Array.from(a.changedTouches))this._triggerPointerStart(new N(o),a)},this._move=a=>{if(!Ke(a)&&(!pe(a)||!this._excludeFromButtonsCheck.has(a.pointerId))&&a.buttons===0){this._pointerEnd(a);return}const o=this.currentPointers.slice(),l=Ke(a)?Array.from(a.changedTouches).map(h=>new N(h)):[new N(a)],u=[];for(const h of l){const d=this.currentPointers.findIndex(f=>f.id===h.id);d!==-1&&(u.push(h),this.currentPointers[d]=h)}u.length!==0&&this._moveCallback(o,u,a)},this._triggerPointerEnd=(a,o)=>{if(!Ke(o)&&o.buttons&1)return!1;const l=this.currentPointers.findIndex(h=>h.id===a.id);if(l===-1)return!1;this.currentPointers.splice(l,1),this.startPointers.splice(l,1),this._excludeFromButtonsCheck.delete(a.id);const u=!(o.type==="mouseup"||o.type==="touchend"||o.type==="pointerup");return this._endCallback(a,o,u),!0},this._pointerEnd=a=>{if(!!this._triggerPointerEnd(new N(a),a))if(pe(a)){if(this.currentPointers.length)return;this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd)}else window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)},this._touchEnd=a=>{for(const o of Array.from(a.changedTouches))this._triggerPointerEnd(new N(o),a)},this._startCallback=n,this._moveCallback=r,this._endCallback=i,this._rawUpdates=c&&"onpointerrawupdate"in window,self.PointerEvent&&!s?this._element.addEventListener("pointerdown",this._pointerStart):(this._element.addEventListener("mousedown",this._pointerStart),this._element.addEventListener("touchstart",this._touchStart),this._element.addEventListener("touchmove",this._move),this._element.addEventListener("touchend",this._touchEnd),this._element.addEventListener("touchcancel",this._touchEnd))}stop(){this._element.removeEventListener("pointerdown",this._pointerStart),this._element.removeEventListener("mousedown",this._pointerStart),this._element.removeEventListener("touchstart",this._touchStart),this._element.removeEventListener("touchmove",this._move),this._element.removeEventListener("touchend",this._touchEnd),this._element.removeEventListener("touchcancel",this._touchEnd),this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd),window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)}_triggerPointerStart(t,n){return this._startCallback(t,n)?(this.currentPointers.push(t),this.startPointers.push(t),!0):!1}}function wr(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var br=`pinch-zoom {
  display: block;
  overflow: hidden;
  touch-action: none;
  --scale: 1;
  --x: 0;
  --y: 0;
}

pinch-zoom > * {
  transform: translate(var(--x), var(--y)) scale(var(--scale));
  transform-origin: 0 0;
  will-change: transform;
}
`;wr(br);const ke="min-scale";function Pt(e,t){return t?Math.sqrt((t.clientX-e.clientX)**2+(t.clientY-e.clientY)**2):0}function Ct(e,t){return t?{clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2}:e}function At(e,t){return typeof e=="number"?e:e.trimRight().endsWith("%")?t*parseFloat(e)/100:parseFloat(e)}let Ot;function on(){return Ot||(Ot=document.createElementNS("http://www.w3.org/2000/svg","svg"))}function Je(){return on().createSVGMatrix()}function Rt(){return on().createSVGPoint()}const Ze=.01;class _r extends HTMLElement{constructor(){super();this._transform=Je(),new MutationObserver(()=>this._stageElChange()).observe(this,{childList:!0});const t=new yr(this,{start:(n,r)=>t.currentPointers.length===2||!this._positioningEl?!1:(r.preventDefault(),!0),move:n=>{this._onPointerMove(n,t.currentPointers)}});this.addEventListener("wheel",n=>this._onWheel(n))}static get observedAttributes(){return[ke]}attributeChangedCallback(t,n,r){t===ke&&this.scale<this.minScale&&this.setTransform({scale:this.minScale})}get minScale(){const t=this.getAttribute(ke);if(!t)return Ze;const n=parseFloat(t);return Number.isFinite(n)?Math.max(Ze,n):Ze}set minScale(t){this.setAttribute(ke,String(t))}connectedCallback(){this._stageElChange()}get x(){return this._transform.e}get y(){return this._transform.f}get scale(){return this._transform.a}scaleTo(t,n={}){let{originX:r=0,originY:i=0}=n;const{relativeTo:c="content",allowChangeEvent:s=!1}=n,a=c==="content"?this._positioningEl:this;if(!a||!this._positioningEl){this.setTransform({scale:t,allowChangeEvent:s});return}const o=a.getBoundingClientRect();if(r=At(r,o.width),i=At(i,o.height),c==="content")r+=this.x,i+=this.y;else{const l=this._positioningEl.getBoundingClientRect();r-=l.left,i-=l.top}this._applyChange({allowChangeEvent:s,originX:r,originY:i,scaleDiff:t/this.scale})}setTransform(t={}){const{scale:n=this.scale,allowChangeEvent:r=!1}=t;let{x:i=this.x,y:c=this.y}=t;if(!this._positioningEl){this._updateTransform(n,i,c,r);return}const s=this.getBoundingClientRect(),a=this._positioningEl.getBoundingClientRect();if(!s.width||!s.height){this._updateTransform(n,i,c,r);return}let o=Rt();o.x=a.left-s.left,o.y=a.top-s.top;let l=Rt();l.x=a.width+o.x,l.y=a.height+o.y;const u=Je().translate(i,c).scale(n).multiply(this._transform.inverse());o=o.matrixTransform(u),l=l.matrixTransform(u),o.x>s.width?i+=s.width-o.x:l.x<0&&(i+=-l.x),o.y>s.height?c+=s.height-o.y:l.y<0&&(c+=-l.y),this._updateTransform(n,i,c,r)}_updateTransform(t,n,r,i){if(!(t<this.minScale)&&!(t===this.scale&&n===this.x&&r===this.y)&&(this._transform.e=n,this._transform.f=r,this._transform.d=this._transform.a=t,this.style.setProperty("--x",this.x+"px"),this.style.setProperty("--y",this.y+"px"),this.style.setProperty("--scale",this.scale+""),i)){const c=new Event("change",{bubbles:!0});this.dispatchEvent(c)}}_stageElChange(){this._positioningEl=void 0,this.children.length!==0&&(this._positioningEl=this.children[0],this.children.length>1&&console.warn("<pinch-zoom> must not have more than one child."),this.setTransform({allowChangeEvent:!0}))}_onWheel(t){if(!this._positioningEl)return;t.preventDefault();const n=this._positioningEl.getBoundingClientRect();let{deltaY:r}=t;const{ctrlKey:i,deltaMode:c}=t;c===1&&(r*=15);const a=1-r/(i?100:300);this._applyChange({scaleDiff:a,originX:t.clientX-n.left,originY:t.clientY-n.top,allowChangeEvent:!0})}_onPointerMove(t,n){if(!this._positioningEl)return;const r=this._positioningEl.getBoundingClientRect(),i=Ct(t[0],t[1]),c=Ct(n[0],n[1]),s=i.clientX-r.left,a=i.clientY-r.top,o=Pt(t[0],t[1]),l=Pt(n[0],n[1]),u=o?l/o:1;this._applyChange({originX:s,originY:a,scaleDiff:u,panX:c.clientX-i.clientX,panY:c.clientY-i.clientY,allowChangeEvent:!0})}_applyChange(t={}){const{panX:n=0,panY:r=0,originX:i=0,originY:c=0,scaleDiff:s=1,allowChangeEvent:a=!1}=t,o=Je().translate(n,r).translate(i,c).translate(this.x,this.y).scale(s).translate(-i,-c).scale(this.scale);this.setTransform({allowChangeEvent:a,scale:o.a,x:o.e,y:o.f})}}customElements.define("pinch-zoom",_r);// @license © 2019 Google LLC. Licensed under the Apache License, Version 2.0.
const me=document,ue=localStorage,De="prefers-color-scheme",Se="media",b="light",S="dark",Tt=`(${De}:${S})`,Er=`(${De}:${b})`,It="link[rel=stylesheet]",Qe="remember",et="legend",xe="toggle",$t="switch",tt="appearance",nt="permanent",rt="mode",de="colorschemechange",it="permanentcolorscheme",jt="all",at="not all",g="dark-mode-toggle",te="https://googlechromelabs.github.io/dark-mode-toggle/demo/",Z=(e,t,n=t)=>{Object.defineProperty(e,n,{enumerable:!0,get(){const r=this.getAttribute(t);return r===null?"":r},set(r){this.setAttribute(t,r)}})},Lr=(e,t,n=t)=>{Object.defineProperty(e,n,{enumerable:!0,get(){return this.hasAttribute(t)},set(r){r?this.setAttribute(t,""):this.removeAttribute(t)}})},sn=me.createElement("template");sn.innerHTML=`<style>*,::after,::before{box-sizing:border-box}:host{contain:content;display:block}:host([hidden]){display:none}form{background-color:var(--${g}-background-color,transparent);color:var(--${g}-color,inherit);padding:0}fieldset{border:none;margin:0;padding-block:.25rem;padding-inline:.25rem}legend{font:var(--${g}-legend-font,inherit);padding:0}input,label{cursor:pointer}label{white-space:nowrap}input{opacity:0;position:absolute;pointer-events:none}input:focus-visible+label{outline:#e59700 auto 2px;outline:-webkit-focus-ring-color auto 5px}label:not(:empty)::before{margin-inline-end:.5rem;}label::before{content:"";display:inline-block;background-size:var(--${g}-icon-size,1rem);background-repeat:no-repeat;height:var(--${g}-icon-size,1rem);width:var(--${g}-icon-size,1rem);vertical-align:middle;}[part=lightLabel]::before{background-image:var(--${g}-light-icon, url("${te}sun.png"))}[part=darkLabel]::before{filter:var(--${g}-icon-filter, none);background-image:var(--${g}-dark-icon, url("${te}moon.png"))}[part=toggleLabel]::before{background-image:var(--${g}-checkbox-icon,none)}[part=permanentLabel]::before{background-image:var(--${g}-remember-icon-unchecked, url("${te}unchecked.svg"))}[part=darkLabel],[part=lightLabel],[part=toggleLabel]{font:var(--${g}-label-font,inherit)}[part=darkLabel]:empty,[part=lightLabel]:empty,[part=toggleLabel]:empty{font-size:0;padding:0}[part=permanentLabel]{font:var(--${g}-remember-font,inherit)}input:checked+[part=permanentLabel]::before{background-image:var(--${g}-remember-icon-checked, url("${te}checked.svg"))}input:checked+[part=darkLabel],input:checked+[part=lightLabel]{background-color:var(--${g}-active-mode-background-color,transparent)}input:checked+[part=darkLabel]::before,input:checked+[part=lightLabel]::before{background-color:var(--${g}-active-mode-background-color,transparent)}input:checked+[part=toggleLabel]::before{filter:var(--${g}-icon-filter, none)}input:checked+[part=toggleLabel]+aside [part=permanentLabel]::before{filter:var(--${g}-remember-filter, invert(100%))}aside{visibility:hidden;margin-block-start:.15rem}[part=darkLabel]:focus-visible~aside,[part=lightLabel]:focus-visible~aside,[part=toggleLabel]:focus-visible~aside{visibility:visible;transition:visibility 0s}aside [part=permanentLabel]:empty{display:none}@media (hover:hover){aside{transition:visibility 3s}aside:hover{visibility:visible}[part=darkLabel]:hover~aside,[part=lightLabel]:hover~aside,[part=toggleLabel]:hover~aside{visibility:visible;transition:visibility 0s}}</style><form part=form><fieldset part=fieldset><legend part=legend></legend><input part=lightRadio id=l name=mode type=radio><label part=lightLabel for=l></label><input part=darkRadio id=d name=mode type=radio><label part=darkLabel for=d></label><input part=toggleCheckbox id=t type=checkbox><label part=toggleLabel for=t></label><aside part=aside><input part=permanentCheckbox id=p type=checkbox><label part=permanentLabel for=p></label></aside></fieldset></form>`;class kr extends HTMLElement{static get observedAttributes(){return[rt,tt,nt,et,b,S,Qe]}constructor(){super();Z(this,rt),Z(this,tt),Z(this,et),Z(this,b),Z(this,S),Z(this,Qe),Lr(this,nt),this.t=null,this.i=null,me.addEventListener(de,t=>{this.mode=t.detail.colorScheme,this.o(),this.l()}),me.addEventListener(it,t=>{this.permanent=t.detail.permanent,this.h.checked=this.permanent}),this.p()}p(){const t=this.attachShadow({mode:"open"});t.appendChild(sn.content.cloneNode(!0)),this.t=me.querySelectorAll(`${It}[${Se}*=${De}][${Se}*="${S}"]`),this.i=me.querySelectorAll(`${It}[${Se}*=${De}][${Se}*="${b}"]`),this.g=t.querySelector("[part=lightRadio]"),this.m=t.querySelector("[part=lightLabel]"),this.u=t.querySelector("[part=darkRadio]"),this.k=t.querySelector("[part=darkLabel]"),this.v=t.querySelector("[part=toggleCheckbox]"),this.$=t.querySelector("[part=toggleLabel]"),this.L=t.querySelector("legend"),this.M=t.querySelector("aside"),this.h=t.querySelector("[part=permanentCheckbox]"),this.C=t.querySelector("[part=permanentLabel]");const n=matchMedia(Tt).media!==at;n&&matchMedia(Tt).addListener(({matches:i})=>{this.mode=i?S:b,this.R(de,{colorScheme:this.mode})});const r=ue.getItem(g);r&&[S,b].includes(r)?(this.mode=r,this.h.checked=!0,this.permanent=!0):n&&(this.mode=matchMedia(Er).matches?b:S),this.mode||(this.mode=b),this.permanent&&!r&&ue.setItem(g,this.mode),this.appearance||(this.appearance=xe),this._(),this.o(),this.l(),[this.g,this.u].forEach(i=>{i.addEventListener("change",()=>{this.mode=this.g.checked?b:S,this.l(),this.R(de,{colorScheme:this.mode})})}),this.v.addEventListener("change",()=>{this.mode=this.v.checked?S:b,this.o(),this.R(de,{colorScheme:this.mode})}),this.h.addEventListener("change",()=>{this.permanent=this.h.checked,this.R(it,{permanent:this.permanent})}),this.A(),this.R(de,{colorScheme:this.mode}),this.R(it,{permanent:this.permanent})}attributeChangedCallback(t,n,r){if(t===rt){if(![b,S].includes(r))throw new RangeError(`Allowed values: "${b}" and "${S}".`);matchMedia("(hover:none)").matches&&this.remember&&this.S(),this.permanent&&ue.setItem(g,this.mode),this.o(),this.l(),this.A()}else if(t===tt){if(![xe,$t].includes(r))throw new RangeError(`Allowed values: "${xe}" and "${$t}".`);this._()}else t===nt?(this.permanent?ue.setItem(g,this.mode):ue.removeItem(g),this.h.checked=this.permanent):t===et?this.L.textContent=r:t===Qe?this.C.textContent=r:t===b?(this.m.textContent=r,this.mode===b&&(this.$.textContent=r)):t===S&&(this.k.textContent=r,this.mode===S&&(this.$.textContent=r))}R(t,n){this.dispatchEvent(new CustomEvent(t,{bubbles:!0,composed:!0,detail:n}))}_(){const t=this.appearance===xe;this.g.hidden=t,this.m.hidden=t,this.u.hidden=t,this.k.hidden=t,this.v.hidden=!t,this.$.hidden=!t}o(){this.mode===b?this.g.checked=!0:this.u.checked=!0}l(){this.mode===b?(this.$.style.setProperty(`--${g}-checkbox-icon`,`var(--${g}-light-icon,url("${te}moon.png"))`),this.$.textContent=this.light,this.light||(this.$.ariaLabel=S),this.v.checked=!1):(this.$.style.setProperty(`--${g}-checkbox-icon`,`var(--${g}-dark-icon,url("${te}sun.png"))`),this.$.textContent=this.dark,this.dark||(this.$.ariaLabel=b),this.v.checked=!0)}A(){this.mode===b?(this.i.forEach(t=>{t.media=jt,t.disabled=!1}),this.t.forEach(t=>{t.media=at,t.disabled=!0})):(this.t.forEach(t=>{t.media=jt,t.disabled=!1}),this.i.forEach(t=>{t.media=at,t.disabled=!0}))}S(){this.M.style.visibility="visible",setTimeout(()=>{this.M.style.visibility="hidden"},3e3)}}customElements.define(g,kr);var Sr='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><path d="M14 28c-3.31 0-6 2.69-6 6 0 2.62-2.31 4-4 4 1.84 2.44 4.99 4 8 4 4.42 0 8-3.58 8-8 0-3.31-2.69-6-6-6zM41.41 9.26l-2.67-2.67c-.78-.78-2.05-.78-2.83 0L18 24.5l5.5 5.5 17.91-17.91c.79-.79.79-2.05 0-2.83z"/></svg>',xr='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><path d="M42 12H6c-2.21 0-4 1.79-4 4v16c0 2.21 1.79 4 4 4h36c2.21 0 4-1.79 4-4V16c0-2.21-1.79-4-4-4zm0 20H6V16h4v8h4v-8h4v8h4v-8h4v8h4v-8h4v8h4v-8h4v16z"/></svg>',Pr='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><path d="M31.93 20.57l-5.5 7.08-3.93-4.72L17 30h22l-7.07-9.43zM6 10H2v32c0 2.21 1.79 4 4 4h32v-4H6V10zm36-8H14c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V6c0-2.21-1.79-4-4-4zm0 32H14V6h28v28z"/></svg>',cn='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><path d="M6 34v4h12v-4H6zm0-24v4h20v-4H6zm20 32v-4h16v-4H26v-4h-4v12h4zM14 18v4H6v4h8v4h4V18h-4zm28 8v-4H22v4h20zm-12-8h4v-4h8v-4h-8V6h-4v12z"/></svg>',Cr='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><path d="M40 12H24l-4-4H8c-2.21 0-3.98 1.79-3.98 4L4 36c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V16c0-2.21-1.79-4-4-4zm0 24H8V16h32v20z"/></svg>',Ar='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><path d="M34 6H10c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V14l-8-8zM24 38c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zm6-20H10v-8h20v8z"/></svg>',Or='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><path d="M32 2H8C5.79 2 4 3.79 4 6v28h4V6h24V2zm6 8H16c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h22c2.21 0 4-1.79 4-4V14c0-2.21-1.79-4-4-4zm0 32H16V14h22v28z"/></svg>',Rr='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><path d="M38 4h-8.37c-.82-2.32-3.02-4-5.63-4s-4.81 1.68-5.63 4H10C7.79 4 6 5.79 6 8v32c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V8c0-2.21-1.79-4-4-4zM24 4c1.1 0 2 .89 2 2s-.9 2-2 2-2-.89-2-2 .9-2 2-2zm14 36H10V8h4v6h20V8h4v32z"/></svg>',Tr='<svg enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="m0 0h24v24h-24z" fill="none"/><path d="m20 17h-16v-12h8v-2h-8c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h4v2h8v-2h4c1.1 0 2-.9 2-2v-3h-2z"/><path d="m17 14 5-5-1.41-1.41-2.59 2.58v-7.17h-2v7.17l-2.59-2.58-1.41 1.41z"/></svg>';const mt="monochromeSettings",ft="colorSettings",Ve="color",ze="monochrome",z="%",ln="deg",fe="steps",Mt="pixels",dt="",Ir="segments",D={brightness:"brightness",contrast:"contrast",grayscale:"grayscale",hueRotate:"hue-rotate",invert:"invert",opacity:"opacity",saturate:"saturate",sepia:"sepia"},x={red:"red",green:"green",blue:"blue",alpha:"alpha"},we={scale:"scale",rotation:"rotation"},E={minPathLength:"minPathSegments",strokeWidth:"strokeWidth",turdsize:"turdsize",alphamax:"alphamax",turnpolicy:"turnpolicy",opticurve:"opticurve",opttolerance:"opttolerance"},un={[D.brightness]:{unit:z,initial:100,min:0,max:200},[D.contrast]:{unit:z,initial:100,min:0,max:200},[D.grayscale]:{unit:z,initial:0,min:0,max:100},[D.hueRotate]:{unit:ln,initial:0,min:0,max:360},[D.invert]:{unit:z,initial:0,min:0,max:100},[D.opacity]:{unit:z,initial:100,min:0,max:100},[D.saturate]:{unit:z,initial:100,min:0,max:200},[D.sepia]:{unit:z,initial:0,min:0,max:100}},$r={[x.red]:{unit:fe,initial:5,min:1,max:20},[x.green]:{unit:fe,initial:5,min:1,max:20},[x.blue]:{unit:fe,initial:5,min:1,max:20},[x.alpha]:{unit:fe,initial:1,min:1,max:10}},jr={[we.scale]:{unit:z,initial:100,min:1,max:200},[we.rotation]:{unit:ln,initial:0,min:0,max:360}},Mr={[E.turdsize]:{unit:Mt,initial:2,min:0,max:50},[E.strokeWidth]:{unit:Mt,initial:0,min:0,max:100},[E.minPathLength]:{unit:Ir,initial:0,min:0,max:30},[E.alphamax]:{unit:dt,initial:1,min:0,max:1.3334},[E.turnpolicy]:{unit:fe,initial:4,min:0,max:6},[E.opttolerance]:{unit:dt,initial:.2,min:0,max:1}},Dr=[{name:"svgOptions",icon:cn},{name:"colorChannels",icon:Sr},{name:"imageSizeAndRotation",icon:xr},{name:"imagePreprocessing",icon:Pr}],gt=[Object.entries(Mr),Object.entries($r),Object.entries(jr),Object.entries(un)],v={},Ne={},I={},re=(e,t)=>{const n=m.t(e);return` (${e?`${t}${n.length===1?n:` ${n}`}`:t})`},G=e=>{const t=document.createElement("span");return t.classList.add("icon"),t.innerHTML=e,t},Vr=(e,t)=>{const n=document.createElement("details");I[e]=n;const r=document.createElement("summary"),i=G(t);r.append(i);const c=document.createElement("span");return c.textContent=m.t(e),c.dataset.i18nKey=e,r.append(c),n.append(r),n},zr=["alphamax","turnpolicy","optimize-curves","opttolerance","minPathSegments"],Nr=async(e,t,n)=>{const{unit:r,min:i,max:c,initial:s}=t,a=document.createElement("div");a.classList.add("preprocess-input"),zr.includes(e)&&a.classList.add("advanced");const o=document.createElement("label"),l=document.createElement("span");l.textContent=m.t(e),l.dataset.i18nKey=e,o.append(l),o.htmlFor=e;const u=await We(),h=document.createElement("span");Ne[e]=h,h.textContent=re(r,u[e]||s),h.dataset.dynamicI18nKey=r,h.dataset.dynamicValue=u[e]||s;const d=document.createElement("input");v[e]=d,d.id=e,d.type="range",d.class=e,r&&(d.dataset.unit=r),r===dt&&(d.step=.01),d.min=i,d.max=c,d.value=u[e]||s,d.addEventListener("input",()=>{h.textContent=re(r,d.value),h.dataset.dynamicValue=d.value}),Object.keys(x).includes(e)?d.addEventListener("change",$e(async()=>{await X(d),await T()},250)):Object.keys(E).includes(e)?d.addEventListener("change",$e(async()=>{await X(d),await T()},250)):d.addEventListener("change",$e(async()=>{await X(d),await T()},250));const f=document.createElement("button");f.type="button",f.textContent=m.t("reset"),f.dataset.i18nKey="reset",f.addEventListener("click",async()=>{d.value=s,h.textContent=re(r,s),h.dataset.dynamicValue=s,d.dispatchEvent(new Event("change"))}),o.append(h),a.append(o);const L=document.createElement("div");a.append(L),L.append(d),L.append(f),n.append(a)},dn=()=>{const e=!O.checked;Object.keys(x).forEach(t=>{v[t].disabled=e})};O.addEventListener("change",async()=>{dn(),await X(O),await T()});const vt=async()=>{const e=await We();O.checked=e[O.id]??O.defaultChecked,dn(),j.checked=e[j.id]??j.defaultChecked,C.checked=e[C.id]??C.defaultChecked,hn(),Y.checked=e[Y.id]??Y.defaultChecked,mn(),gt.forEach(t=>{for(const[n,r]of t){const i=e[v[n].id]||r.initial;v[n].value=i,Ne[n].textContent=re(r.unit,i)}})};k.addEventListener("change",async()=>{await B(k.id,k.checked),await B(R.id,R.checked),await vt(),await T()});R.addEventListener("change",async()=>{await B(k.id,k.checked),await B(R.id,R.checked),await vt(),await T()});j.addEventListener("change",async()=>{await X(j),await T()});const hn=()=>{v.opttolerance.disabled=!C.checked};C.addEventListener("change",async()=>{hn(),await X(C),await T()});ge.addEventListener("input",()=>{V.classList.toggle("debug",ge.checked)});const Ur=async()=>{await m.getTranslations(),pn();const e=getComputedStyle(document.documentElement).getPropertyValue("--mobile-breakpoint"),t=window.matchMedia(`(max-width: ${e})`),n=()=>{if(t.matches){lt.open=!1;return}lt.open=!0};n(),t.addEventListener("change",n),k.checked=await ne(k.id)??k.defaultChecked,R.checked=await ne(R.id)??R.defaultChecked,k.checked&&w.classList.add(Ve),R.checked&&w.classList.add(ze);const r=[];gt.forEach(async(s,a)=>{const{name:o,icon:l}=Dr[a],u=Vr(o,l);bt.append(u),a<2&&(u.open=!0),o==="colorChannels"?I.colorChannels.append(O.parentNode):o==="svgOptions"?(I.svgOptions.append(k.parentNode),I.svgOptions.append(R.parentNode)):o==="imageSizeAndRotation"&&I.imageSizeAndRotation.append(j.parentNode);for(const[h,d]of s)r.push(Nr(h,d,u));Promise.all(r).then(async()=>{for(const[h]of s){if(h==="opttolerance"){const d=I.svgOptions.querySelector('[for="opttolerance"]').parentNode;I.svgOptions.insertBefore(C.parentNode,d)}if(o==="svgOptions"){const d=I.svgOptions.querySelector(".preprocess-input.advanced");I.svgOptions.insertBefore(Y.parentNode,d)}}await vt()})}),bt.append(ht.parentNode),y.addEventListener("load",async()=>{y.width=y.naturalWidth,y.height=y.naturalHeight;const s=await We();if(y.src!==new URL("/favicon.png",location.href).toString()||Object.keys(s).length>1)setTimeout(async()=>{Ut(),await T()},100);else{const a=await fetch(`/potraced-${k.checked?"color":"monochrome"}.svg`).then(o=>o.text());w.innerHTML=a}}),y.complete&&y.dispatchEvent(new Event("load")),Ie.hidden=!1,new URL(location).searchParams.has("debug")&&(ge.checked=!0,ge.labels[0].hidden=!1,ge.dispatchEvent(new Event("input")));try{const s=await ne(ye);if(s&&await Br(s)){const a=await s.getFile(),o=URL.createObjectURL(a);y.src=o}}catch(s){console.error(s.name,s.message),await gr(ye)}},Br=async e=>{const t={mode:"read"};return await e.queryPermission(t)==="granted"||await e.requestPermission(t)==="granted"},pn=()=>{Cn.textContent=m.t("license"),An.textContent=m.t("about"),ht.textContent=m.t("resetAll"),En.textContent=m.t("posterizeInputImage"),Ln.textContent=m.t("colorSVG"),kn.textContent=m.t("monochromeSVG"),Sn.textContent=m.t("considerDPR"),xn.textContent=m.t("opticurve"),Pn.textContent=m.t("showAdvancedControls"),Ce.innerHTML="",Ce.append(G(Cr));const e=document.createElement("span");e.textContent=m.t("openImage"),Ce.append(e),Ae.innerHTML="",Ae.append(G(Ar));const t=document.createElement("span");t.textContent=m.t("saveSVG"),Ae.append(t),Oe.innerHTML="",Oe.append(G(Or));const n=document.createElement("span");n.textContent=m.t("copySVG"),Oe.append(n),Re.innerHTML="",Re.append(G(Rr));const r=document.createElement("span");r.textContent=m.t("pasteImage"),Re.append(r),Te.innerHTML="",Te.append(G(Tr));const i=document.createElement("span");i.textContent=m.t("install"),Te.append(i),Ue.dataset.dropText=m.t("dropFileHere"),He.innerHTML="",He.append(G(cn)),He.append(document.createTextNode(m.t("tweak"))),Nt.ariaLabel=m.t("closeOptions"),document.querySelectorAll("[data-i18n-key]").forEach(c=>{c.textContent=m.t(c.dataset.i18nKey)}),document.querySelectorAll("[data-dynamic-i18n-key]").forEach(c=>{c.textContent=re(c.dataset.dynamicI18nKey,c.dataset.dynamicValue)}),Me.innerHTML="",m.supportedLocales.sort().forEach(c=>{const[s,a]=c.split("-"),o=document.createElement("option");o.value=c,o.textContent=m.t(`${s}${a}`),s===m.currentLanguageAndLocale.language&&a===m.currentLanguageAndLocale.locale&&(o.selected=!0),Me.append(o)})};Me.addEventListener("change",async()=>{const[e,t]=Me.value.split("-");try{await m.setLanguageAndLocale(e,t),pn()}catch(n){console.error(n.name,n.message)}});ht.addEventListener("click",async()=>{const e=(t,n,r)=>{v[t].value=r,Ne[t].textContent=re(n,r),Ne[t].dataset.dynamicValue=r};gt.forEach(t=>{for(const[n,r]of t)e(n,r.unit,r.initial)}),C.checked=C.defaultChecked,opttolerance.disabled=!C.defaultChecked,O.checked=O.defaultChecked,j.checked=j.defaultChecked,await Wr(),Ut(),await T()});let ot=null;const A=(e,t=5e3)=>{if(be.innerHTML=e,be.hidden=!1,ot&&clearTimeout(ot),t!==1/0){ot=setTimeout(()=>{be.hidden=!0,be.textContent=""},t);return}},mn=async()=>{await X(Y),document.querySelectorAll(".advanced").forEach(e=>{Y.checked?e.style.display="block":e.style.display="none"})};Y.addEventListener("change",mn);document.documentElement.style.setProperty("--100vh",`${window.innerHeight}px`);window.addEventListener("resize",$e(()=>{document.documentElement.style.setProperty("--100vh",`${window.innerHeight}px`)},250));Nt.addEventListener("click",()=>{lt.open=!1});const Wr=async()=>{await B(k.checked?ft:mt,{})},We=async()=>{const e=k.checked?await ne(ft):await ne(mt);return e||{}},X=async e=>{const t=await We();t[e.id]=e.type==="range"?e.value:e.checked,await B(k.checked?ft:mt,t)};try{self["workbox:window:6.4.1"]&&_()}catch{}function Dt(e,t){return new Promise(function(n){var r=new MessageChannel;r.port1.onmessage=function(i){n(i.data)},e.postMessage(t,[r.port2])})}function qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vt(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hr(e,t){var n;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=function(i,c){if(i){if(typeof i=="string")return Vt(i,c);var s=Object.prototype.toString.call(i).slice(8,-1);return s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set"?Array.from(i):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Vt(i,c):void 0}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(n=e[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.4.1"]&&_()}catch{}var st=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})};function ct(e,t){var n=location.href;return new URL(e,n).href===new URL(t,n).href}var he=function(e,t){this.type=e,Object.assign(this,t)};function Pe(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function Fr(){}var Gr={type:"SKIP_WAITING"};function zt(e,t){if(!t)return e&&e.then?e.then(Fr):Promise.resolve()}var Yr=function(e){var t,n;function r(a,o){var l,u;return o===void 0&&(o={}),(l=e.call(this)||this).nn={},l.tn=0,l.rn=new st,l.en=new st,l.on=new st,l.un=0,l.an=new Set,l.cn=function(){var h=l.fn,d=h.installing;l.tn>0||!ct(d.scriptURL,l.sn.toString())||performance.now()>l.un+6e4?(l.vn=d,h.removeEventListener("updatefound",l.cn)):(l.hn=d,l.an.add(d),l.rn.resolve(d)),++l.tn,d.addEventListener("statechange",l.ln)},l.ln=function(h){var d=l.fn,f=h.target,L=f.state,M=f===l.vn,W={sw:f,isExternal:M,originalEvent:h};!M&&l.mn&&(W.isUpdate=!0),l.dispatchEvent(new he(L,W)),L==="installed"?l.wn=self.setTimeout(function(){L==="installed"&&d.waiting===f&&l.dispatchEvent(new he("waiting",W))},200):L==="activating"&&(clearTimeout(l.wn),M||l.en.resolve(f))},l.dn=function(h){var d=l.hn,f=d!==navigator.serviceWorker.controller;l.dispatchEvent(new he("controlling",{isExternal:f,originalEvent:h,sw:d,isUpdate:l.mn})),f||l.on.resolve(d)},l.gn=(u=function(h){var d=h.data,f=h.ports,L=h.source;return Pe(l.getSW(),function(){l.an.has(L)&&l.dispatchEvent(new he("message",{data:d,originalEvent:h,ports:f,sw:L}))})},function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];try{return Promise.resolve(u.apply(this,h))}catch(f){return Promise.reject(f)}}),l.sn=a,l.nn=o,navigator.serviceWorker.addEventListener("message",l.gn),l}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i,c,s=r.prototype;return s.register=function(a){var o=(a===void 0?{}:a).immediate,l=o!==void 0&&o;try{var u=this;return function(h,d){var f=h();return f&&f.then?f.then(d):d(f)}(function(){if(!l&&document.readyState!=="complete")return zt(new Promise(function(h){return window.addEventListener("load",h)}))},function(){return u.mn=Boolean(navigator.serviceWorker.controller),u.yn=u.pn(),Pe(u.bn(),function(h){u.fn=h,u.yn&&(u.hn=u.yn,u.en.resolve(u.yn),u.on.resolve(u.yn),u.yn.addEventListener("statechange",u.ln,{once:!0}));var d=u.fn.waiting;return d&&ct(d.scriptURL,u.sn.toString())&&(u.hn=d,Promise.resolve().then(function(){u.dispatchEvent(new he("waiting",{sw:d,wasWaitingBeforeRegister:!0}))}).then(function(){})),u.hn&&(u.rn.resolve(u.hn),u.an.add(u.hn)),u.fn.addEventListener("updatefound",u.cn),navigator.serviceWorker.addEventListener("controllerchange",u.dn),u.fn})})}catch(h){return Promise.reject(h)}},s.update=function(){try{return this.fn?zt(this.fn.update()):void 0}catch(a){return Promise.reject(a)}},s.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},s.messageSW=function(a){try{return Pe(this.getSW(),function(o){return Dt(o,a)})}catch(o){return Promise.reject(o)}},s.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&Dt(this.fn.waiting,Gr)},s.pn=function(){var a=navigator.serviceWorker.controller;return a&&ct(a.scriptURL,this.sn.toString())?a:void 0},s.bn=function(){try{var a=this;return function(o,l){try{var u=o()}catch(h){return l(h)}return u&&u.then?u.then(void 0,l):u}(function(){return Pe(navigator.serviceWorker.register(a.sn,a.nn),function(o){return a.un=performance.now(),o})},function(o){throw o})}catch(o){return Promise.reject(o)}},i=r,(c=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&qr(i.prototype,c),r}(function(){function e(){this.Pn=new Map}var t=e.prototype;return t.addEventListener=function(n,r){this.Sn(n).add(r)},t.removeEventListener=function(n,r){this.Sn(n).delete(r)},t.dispatchEvent=function(n){n.target=this;for(var r,i=Hr(this.Sn(n.type));!(r=i()).done;)(0,r.value)(n)},t.Sn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},e}());function Xr(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisterError:c}=e;let s;const a=async(o=!0)=>{};return"serviceWorker"in navigator&&(s=new Yr("/sw.js",{scope:"/",type:"classic"}),s.addEventListener("activated",o=>{o.isUpdate?window.location.reload():r?.()}),s.register({immediate:t}).then(o=>{i?.(o)}).catch(o=>{c?.(o)})),a}"launchQueue"in window&&p(()=>import("./filehandling.3981a6a5.js"),[]);"windowControlsOverlay"in navigator&&p(()=>import("./windowcontrols.4b04caf3.js"),[]);"onbeforeinstallprompt"in window&&"onappinstalled"in window?p(()=>import("./install.8bf364ac.js"),[]):Te.style.display="none";const Kr=()=>{let e=!1;const t={get type(){e=!0}};try{new Worker("blob://",t)}finally{return e}};(async()=>(Ur(),Kr()||await p(()=>import("./module-workers-polyfill.min.dc7647fd.js"),[]),Xr({onOfflineReady(){A(m.t("readyToWorkOffline"))},onNeedRefresh(){location.reload()}})()))();location.href=="https://svgco.de/"&&p(()=>import("./collect.6b4b7dfe.js"),[]);export{ye as F,Zr as a,Te as b,$e as d,y as i,Jr as m,B as s};
