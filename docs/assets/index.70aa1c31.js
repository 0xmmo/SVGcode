const on=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerpolicy&&(l.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?l.credentials="include":i.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}};on();const sn="modulepreload",bt={},cn="/",p=function(t,n){return!n||n.length===0?t():Promise.all(n.map(r=>{if(r=`${cn}${r}`,r in bt)return;bt[r]=!0;const i=r.endsWith(".css"),l=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${l}`))return;const s=document.createElement("link");if(s.rel=i?"stylesheet":sn,i||(s.as="script",s.crossOrigin=""),s.href=r,document.head.appendChild(s),i)return new Promise((a,c)=>{s.addEventListener("load",a),s.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())},V=document.querySelector("canvas"),Fr=document.querySelector(".menu"),Gr=document.querySelector("main"),yt=document.querySelector(".details"),T=document.querySelector(".posterize"),ln=document.querySelector("[for=posterize]"),k=document.querySelector(".color"),dn=document.querySelector("[for=color]"),A=document.querySelector(".monochrome"),un=document.querySelector("[for=monochrome]"),M=document.querySelector(".consider-dpr"),hn=document.querySelector('[for="consider-dpr"]'),O=document.querySelector(".optimize-curves"),pn=document.querySelector('[for="optimize-curves"]'),Y=document.querySelector(".show-advanced"),mn=document.querySelector('[for="show-advanced"]'),b=document.querySelector("img"),ut=document.querySelector(".reset-all"),Se=document.querySelector(".open"),Pe=document.querySelector(".save"),Ce=document.querySelector(".copy"),Oe=document.querySelector(".share"),Re=document.querySelector(".paste"),Te=document.querySelector(".install"),w=document.querySelector(".svg-output"),me=document.querySelector(".debug"),Ae=document.querySelector("progress"),Q=document.querySelector(".toast"),He=document.documentElement,ct=document.querySelector("details.main"),qe=document.querySelector("summary"),Vt=document.querySelector(".close-options-button"),gn=document.querySelector(".license"),vn=document.querySelector(".about"),ae=document.querySelector("pinch-zoom"),Me=document.querySelector(".language"),ee=window.devicePixelRatio;ae.addEventListener("change",()=>{const{x:e,y:t,scale:n}=ae;w.setAttribute("transform",`translate(${e}, ${t}) scale(${n})`)});ae.addEventListener("pointerdown",()=>{ae.style.cursor="grabbing"});ae.addEventListener("pointerup",()=>{ae.style.cursor=""});const Dt=()=>{w.setAttribute("transform","")},Ie=(e,t)=>{let n;return function(...i){const l=()=>{clearTimeout(n),e(...i)};clearTimeout(n),n=setTimeout(l,t)}},Nt=/Mac|iPhone/.test(navigator.platform);/*!
 * canvas-size
 * v1.2.5
 * https://github.com/jhildenbiddle/canvas-size
 * (c) 2015-2021 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wt(Object(n),!0).forEach(function(r){fn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bn(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,l;for(l=0;l<r.length;l++)i=r[l],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function yn(e,t){if(e==null)return{};var n=bn(e,t),r,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)r=l[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function _t(e,t){return _n(e)||Ln(e,t)||Ht(e,t)||xn()}function ye(e){return wn(e)||En(e)||Ht(e)||kn()}function wn(e){if(Array.isArray(e))return lt(e)}function _n(e){if(Array.isArray(e))return e}function En(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ln(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,l=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(c){l=!0,a=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(l)throw a}}return r}}function Ht(e,t){if(!!e){if(typeof e=="string")return lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lt(e,t)}}function lt(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ge(e){var t=e.sizes.shift(),n=Math.max(Math.ceil(t[0]),1),r=Math.max(Math.ceil(t[1]),1),i=[n-1,r-1,1,1],l=Date.now(),s=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,a,c;s?(a=new OffscreenCanvas(1,1),c=new OffscreenCanvas(n,r)):(a=document.createElement("canvas"),a.width=1,a.height=1,c=document.createElement("canvas"),c.width=n,c.height=r);var o=a.getContext("2d"),d=c.getContext("2d");d&&(d.fillRect.apply(d,i),o.drawImage(c,n-1,r-1,1,1,0,0,1,1));var h=o&&o.getImageData(0,0,1,1).data[3]!==0,u=Date.now()-l;return s?(postMessage({width:n,height:r,benchmark:u,isTestPass:h}),!h&&e.sizes.length&&ge(e)):h?e.onSuccess(n,r,u):(e.onError(n,r,u),e.sizes.length&&ge(e)),h}var Fe={area:[16384,14188,11402,11180,10836,8192,4096,1],height:[8388607,65535,32767,16384,8192,4096,1],width:[4194303,65535,32767,16384,8192,4096,1]},Sn=["onError","onSuccess"],te={max:null,min:1,sizes:[],step:1024,usePromise:!1,useWorker:!1,onError:Function.prototype,onSuccess:Function.prototype},se={};function Ge(e){var t=e.width===e.height,n=e.height===1,r=e.width===1,i=[];if(!e.width||!e.height)e.sizes.forEach(function(d){var h=t||n?d:1,u=t||r?d:1;i.push([h,u])});else for(var l=e.min||te.min,s=e.step||te.step,a=Math.max(e.width,e.height);a>=l;){var c=t||n?a:1,o=t||r?a:1;i.push([c,o]),a-=s}return i}function we(e){var t=window&&"HTMLCanvasElement"in window,n=window&&"OffscreenCanvas"in window,r=Date.now(),i=e.onError,l=e.onSuccess,s=yn(e,Sn),a=null;if(!t)return!1;if(e.useWorker&&n){var c=`
            var canvasTest = `.concat(ge.toString(),`;
            onmessage = function(e) {
                canvasTest(e.data);
            };
        `),o=new Blob([c],{type:"application/javascript"}),d=URL.createObjectURL(o);a=new Worker(d),URL.revokeObjectURL(d),a.onmessage=function(h){var u=h.data,m=u.width,y=u.height,C=u.benchmark,W=u.isTestPass;W?(se[r].onSuccess(m,y,C),delete se[r]):se[r].onError(m,y,C)}}if(e.usePromise)return new Promise(function(h,u){var m=P(P({},e),{},{onError:function(K,J,oe){var We;if(e.sizes.length===0)We=!0;else{var tn=e.sizes.slice(-1),nn=_t(tn,1),ft=_t(nn[0],2),rn=ft[0],an=ft[1];We=K===rn&&J===an}i(K,J,oe),We&&u({width:K,height:J,benchmark:oe})},onSuccess:function(K,J,oe){l(K,J,oe),h({width:K,height:J,benchmark:oe})}});if(a){var y=m.onError,C=m.onSuccess;se[r]={onError:y,onSuccess:C},a.postMessage(s)}else ge(m)});if(a)se[r]={onError:i,onSuccess:l},a.postMessage(s);else return ge(e)}var Pn={maxArea:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=Ge({width:t.max,height:t.max,min:t.min,step:t.step,sizes:ye(Fe.area)}),r=P(P(P({},te),t),{},{sizes:n});return we(r)},maxHeight:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=Ge({width:1,height:t.max,min:t.min,step:t.step,sizes:ye(Fe.height)}),r=P(P(P({},te),t),{},{sizes:n});return we(r)},maxWidth:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=Ge({width:t.max,height:1,min:t.min,step:t.step,sizes:ye(Fe.width)}),r=P(P(P({},te),t),{},{sizes:n});return we(r)},test:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=P(P({},te),t);return n.sizes=ye(n.sizes),n.width&&n.height&&(n.sizes=[[n.width,n.height]]),we(n)}};let Ut,Bt;const Wt="OffscreenCanvas"in window&&"CanvasFilter"in window;if(Wt)p(()=>import("./preprocessworker.4725d83c.js"),[]).then(e=>{const t=e.default;let n=null;const r=V.getContext("2d");Ut=async()=>{n&&n.terminate(),n=new t;const i=V.cloneNode().transferControlToOffscreen();return n.postMessage({offscreen:i},[i]),new Promise(async l=>{const{width:s,height:a}=Et();let c;try{c=await createImageBitmap(b)}catch{try{c=await createImageBitmap(b,0,0,s,a)}catch(d){console.error(d.name,d.message),w.innerHTML="",R(d.message);return}}const o=new MessageChannel;o.port1.onmessage=({data:d})=>{o.port1.close(),n&&(n.terminate(),n=null),V.width=s,V.height=a,r.putImageData(d.result,0,0),l(d.result)},n.postMessage({inputImageBitmap:c,posterize:T.checked,rgba:{r:U(f[S.red]),g:U(f[S.green]),b:U(f[S.blue]),a:U(f[S.alpha])},cssFilters:qt(),rotate:Number(f[fe.rotation].value),width:s,height:a,dpr:ee},[o.port2])})}});else{const e=V.getContext("2d",{desynchronized:!0});e.scale(ee,ee),e.imageSmoothingEnabled=!0,Bt=()=>{let{width:t,height:n}=Et();const r=M.checked?ee:1;let i=1;for(;!Pn.test({width:t,height:n});)t=Math.floor(t/2),n=Math.floor(n/2),i/=2;V.width=t,V.height=n,e.clearRect(0,0,t,n),e.filter=On(),e.setTransform(1,0,0,1,t/2,n/2);const l=Number(f[fe.rotation].value);return e.rotate(l*Math.PI/180),e.drawImage(b,-r*b.naturalWidth*i/2,-r*b.naturalHeight*i/2),e.getImageData(0,0,t,n)}}const Et=()=>{const e=Number(f[fe.scale].value)/100;return{width:Math.ceil(ee*b.naturalWidth*e),height:Math.ceil(ee*b.naturalHeight*e)}},U=e=>{const t=Number(e.value),n=[];for(let r=0;r<=t;r++)n[r]=Number((1/t*r).toFixed(1));return n},Cn=()=>`data:image/svg+xml;utf8,<svg
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
    >
      <filter id="posterize">
        <feComponentTransfer>
          <feFuncR type="discrete" tableValues="${U(f[S.red]).join(",")}" />
          <feFuncG type="discrete" tableValues="${U(f[S.green]).join(",")}" />
          <feFuncB type="discrete" tableValues="${U(f[S.blue]).join(",")}" />
          <feFuncA type="discrete" tableValues="${U(f[S.alpha])}" />
        </feComponentTransfer>
      </filter>
    </svg>`.replace(/[\r\n]/g,"").replace(/\s+/g," ").trim(),qt=()=>{let e="";for(const[t,n]of Object.entries(Kt)){const r=f[t];n.initial!==Number(r.value)&&(e+=`${t}(${r.value}${r.dataset.unit}) `)}return e},On=()=>{let e=`${T.checked?`url('${Cn()}#posterize') `:""}`;return e+=qt(),e.trim()||"none"};function Rn(){return new Worker("/assets/monochromeworker.82d685c8.js",{type:"module"})}let q=null;const Tn=async e=>(q&&q.terminate(),q=new Rn,new Promise(async t=>{const n=new MessageChannel;n.port1.onmessage=({data:i})=>{n.port1.close(),q&&(q.terminate(),q=null),t(i.result)};const r={turdsize:Number(f[L.turdsize].value),alphamax:Number(f[L.alphamax].value),turnpolicy:Number(f[L.turnpolicy].value),opttolerance:Number(f[L.opttolerance].value),opticurve:O.checked?1:0,extractcolors:!1};q.postMessage({imageData:e,params:r},[n.port2])}));function An(){return new Worker("/assets/colorworker.ae1b909e.js",{type:"module"})}let F=null;const z={},In=async e=>(F&&F.terminate(),F=new An,new Promise(async t=>{const n=new MessageChannel;n.port1.onmessage=({data:o})=>{n.port1.close(),F&&(F.terminate(),F=null),t(o.result)},Ae.value=0;let r="",i="",l="",s=0;z.current&&(clearInterval(z.current),z.current=null),z.current=setInterval(()=>{const o=`${r}${l}${i}`;if(o.length!==s){const d=w.dataset.transform;d&&w.setAttribute("transform",d),w.innerHTML=o,s=o.length}},500);const a=new MessageChannel;a.port1.onmessage=({data:o})=>{const d=Math.floor(o.processed/o.total*100);Ae.value=d,o.svg&&(r||(r=o.svg.replace(/(.*?<svg[^>]+>)(.*?)(<\/svg>)/,"$1").replace(/\s+width="\d+(?:\.\d+)?"/,"").replace(/\s+height="\d+(?:\.\d+)"/,""),i=o.svg.replace(/(.*?<svg[^>]+>)(.*?)(<\/svg>)/,"$3")),l+=o.svg.replace(/(.*?<svg[^>]+>)(.*?)(<\/svg>)/,"$2")),o.processed===o.total&&(clearInterval(z.current),z.current=null,a.port1.close(),Ae.value=0)};const c={minPathSegments:Number(f[L.minPathLength].value),strokeWidth:Number(f[L.strokeWidth].value),turdsize:Number(f[L.turdsize].value),alphamax:Number(f[L.alphamax].value),turnpolicy:Number(f[L.turnpolicy].value),opttolerance:Number(f[L.opttolerance].value),opticurve:O.checked?1:0,extractcolors:!1,posterizelevel:2,posterizationalgorithm:0};F.postMessage({imageData:e,params:c},[n.port2,a.port2])}));function $n(e){switch(e){case"../i18n/ar-TN.js":return p(()=>import("./ar-TN.c43edefa.js"),["assets/ar-TN.c43edefa.js","assets/languages.7cf2e360.js"]);case"../i18n/ca-ES.js":return p(()=>import("./ca-ES.17415b26.js"),["assets/ca-ES.17415b26.js","assets/languages.7cf2e360.js"]);case"../i18n/da-DK.js":return p(()=>import("./da-DK.f6682d60.js"),["assets/da-DK.f6682d60.js","assets/languages.7cf2e360.js"]);case"../i18n/de-DE.js":return p(()=>import("./de-DE.1eca8dd8.js"),["assets/de-DE.1eca8dd8.js","assets/languages.7cf2e360.js"]);case"../i18n/el-GR.js":return p(()=>import("./el-GR.1480e062.js"),["assets/el-GR.1480e062.js","assets/languages.7cf2e360.js"]);case"../i18n/en-GB.js":return p(()=>import("./en-GB.90e85ab0.js"),["assets/en-GB.90e85ab0.js","assets/languages.7cf2e360.js"]);case"../i18n/en-US.js":return p(()=>import("./en-US.5329e836.js"),["assets/en-US.5329e836.js","assets/languages.7cf2e360.js"]);case"../i18n/es-ES.js":return p(()=>import("./es-ES.cc2a7652.js"),["assets/es-ES.cc2a7652.js","assets/languages.7cf2e360.js"]);case"../i18n/fr-FR.js":return p(()=>import("./fr-FR.0010224d.js"),["assets/fr-FR.0010224d.js","assets/languages.7cf2e360.js"]);case"../i18n/he-IL.js":return p(()=>import("./he-IL.2b06686a.js"),["assets/he-IL.2b06686a.js","assets/languages.7cf2e360.js"]);case"../i18n/id-ID.js":return p(()=>import("./id-ID.69b13dcd.js"),["assets/id-ID.69b13dcd.js","assets/languages.7cf2e360.js"]);case"../i18n/it-IT.js":return p(()=>import("./it-IT.fbe7796b.js"),["assets/it-IT.fbe7796b.js","assets/languages.7cf2e360.js"]);case"../i18n/ja-JP.js":return p(()=>import("./ja-JP.237a381f.js"),["assets/ja-JP.237a381f.js","assets/languages.7cf2e360.js"]);case"../i18n/ko-KR.js":return p(()=>import("./ko-KR.42648d34.js"),["assets/ko-KR.42648d34.js","assets/languages.7cf2e360.js"]);case"../i18n/languages.js":return p(()=>import("./languages.7cf2e360.js"),[]);case"../i18n/nl-NL.js":return p(()=>import("./nl-NL.3426e0a3.js"),["assets/nl-NL.3426e0a3.js","assets/languages.7cf2e360.js"]);case"../i18n/no-NO.js":return p(()=>import("./no-NO.ee2f9f67.js"),["assets/no-NO.ee2f9f67.js","assets/languages.7cf2e360.js"]);case"../i18n/pl-PL.js":return p(()=>import("./pl-PL.087ae7aa.js"),["assets/pl-PL.087ae7aa.js","assets/languages.7cf2e360.js"]);case"../i18n/pt-BR.js":return p(()=>import("./pt-BR.1da13ef9.js"),["assets/pt-BR.1da13ef9.js","assets/languages.7cf2e360.js"]);case"../i18n/ru-RU.js":return p(()=>import("./ru-RU.830797da.js"),["assets/ru-RU.830797da.js","assets/languages.7cf2e360.js"]);case"../i18n/uk-UA.js":return p(()=>import("./uk-UA.7652024d.js"),["assets/uk-UA.7652024d.js","assets/languages.7cf2e360.js"]);case"../i18n/zh-CN.js":return p(()=>import("./zh-CN.314571bc.js"),["assets/zh-CN.314571bc.js","assets/languages.7cf2e360.js"]);default:return new Promise(function(t,n){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}function zn(e){switch(e){case"../i18n/ar-TN.js":return p(()=>import("./ar-TN.c43edefa.js"),["assets/ar-TN.c43edefa.js","assets/languages.7cf2e360.js"]);case"../i18n/ca-ES.js":return p(()=>import("./ca-ES.17415b26.js"),["assets/ca-ES.17415b26.js","assets/languages.7cf2e360.js"]);case"../i18n/da-DK.js":return p(()=>import("./da-DK.f6682d60.js"),["assets/da-DK.f6682d60.js","assets/languages.7cf2e360.js"]);case"../i18n/de-DE.js":return p(()=>import("./de-DE.1eca8dd8.js"),["assets/de-DE.1eca8dd8.js","assets/languages.7cf2e360.js"]);case"../i18n/el-GR.js":return p(()=>import("./el-GR.1480e062.js"),["assets/el-GR.1480e062.js","assets/languages.7cf2e360.js"]);case"../i18n/en-GB.js":return p(()=>import("./en-GB.90e85ab0.js"),["assets/en-GB.90e85ab0.js","assets/languages.7cf2e360.js"]);case"../i18n/en-US.js":return p(()=>import("./en-US.5329e836.js"),["assets/en-US.5329e836.js","assets/languages.7cf2e360.js"]);case"../i18n/es-ES.js":return p(()=>import("./es-ES.cc2a7652.js"),["assets/es-ES.cc2a7652.js","assets/languages.7cf2e360.js"]);case"../i18n/fr-FR.js":return p(()=>import("./fr-FR.0010224d.js"),["assets/fr-FR.0010224d.js","assets/languages.7cf2e360.js"]);case"../i18n/he-IL.js":return p(()=>import("./he-IL.2b06686a.js"),["assets/he-IL.2b06686a.js","assets/languages.7cf2e360.js"]);case"../i18n/id-ID.js":return p(()=>import("./id-ID.69b13dcd.js"),["assets/id-ID.69b13dcd.js","assets/languages.7cf2e360.js"]);case"../i18n/it-IT.js":return p(()=>import("./it-IT.fbe7796b.js"),["assets/it-IT.fbe7796b.js","assets/languages.7cf2e360.js"]);case"../i18n/ja-JP.js":return p(()=>import("./ja-JP.237a381f.js"),["assets/ja-JP.237a381f.js","assets/languages.7cf2e360.js"]);case"../i18n/ko-KR.js":return p(()=>import("./ko-KR.42648d34.js"),["assets/ko-KR.42648d34.js","assets/languages.7cf2e360.js"]);case"../i18n/languages.js":return p(()=>import("./languages.7cf2e360.js"),[]);case"../i18n/nl-NL.js":return p(()=>import("./nl-NL.3426e0a3.js"),["assets/nl-NL.3426e0a3.js","assets/languages.7cf2e360.js"]);case"../i18n/no-NO.js":return p(()=>import("./no-NO.ee2f9f67.js"),["assets/no-NO.ee2f9f67.js","assets/languages.7cf2e360.js"]);case"../i18n/pl-PL.js":return p(()=>import("./pl-PL.087ae7aa.js"),["assets/pl-PL.087ae7aa.js","assets/languages.7cf2e360.js"]);case"../i18n/pt-BR.js":return p(()=>import("./pt-BR.1da13ef9.js"),["assets/pt-BR.1da13ef9.js","assets/languages.7cf2e360.js"]);case"../i18n/ru-RU.js":return p(()=>import("./ru-RU.830797da.js"),["assets/ru-RU.830797da.js","assets/languages.7cf2e360.js"]);case"../i18n/uk-UA.js":return p(()=>import("./uk-UA.7652024d.js"),["assets/uk-UA.7652024d.js","assets/languages.7cf2e360.js"]);case"../i18n/zh-CN.js":return p(()=>import("./zh-CN.314571bc.js"),["assets/zh-CN.314571bc.js","assets/languages.7cf2e360.js"]);default:return new Promise(function(t,n){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}const _e="language",Mn=["ar","ca","da","de","el","en","es","fr","he","id","it","ja","ko","nl","no","pl","pt","ru","uk","zh"],jn=["ar-TN","ca-ES","da-DK","de-DE","el-GR","en-GB","en-US","es-ES","fr-FR","he-IL","id-ID","it-IT","ja-JP","ko-KR","nl-NL","no-NO","pl-PL","pt-BR","ru-RU","uk-UA","zh-CN"],Vn=["ar","fa","he","ur"];class Dn{constructor(){this.defaultLanguage="en",this.defaultLocale="US",this.translations=null,this.supportedLanguages=Mn,this.supportedLocales=jn,this.currentLanguageAndLocale=this.detectOrRestoreLanguageAndLocale()}findBestMatchingLanguageAndLocale(t,n){return n&&(n=n.toUpperCase()),!t||!this.supportedLanguages.includes(t)?(t=this.defaultLanguage,n=this.defaultLocale):(!n||!this.supportedLocales.includes(`${t}-${n}`))&&(n=this.supportedLocales.find(r=>r.startsWith(`${t}-`)).split("-")[1]),{language:t,locale:n}}detectOrRestoreLanguageAndLocale(){const t=new URL(location),n=t.searchParams,r=n.get("lang");if(r){n.delete("lang"),history.pushState({},"",t);const[o,d=""]=r.split("-"),{language:h,locale:u}=this.findBestMatchingLanguageAndLocale(o,d);return this.setLanguageAndLocale(h,u),{language:h,locale:u}}const i=localStorage.getItem(_e);if(i){const{language:o,locale:d}=JSON.parse(i);return this.setLanguageAndLocale(o,d),{language:o,locale:d}}const[l,s=""]=navigator.language?.split("-"),{language:a,locale:c}=this.findBestMatchingLanguageAndLocale(l,s);return this.setLanguageAndLocale(a,c),{language:a,locale:c}}async setLanguageAndLocale(t,n){this.supportedLanguages.includes(t)||(localStorage.removeItem(_e),t=this.defaultLanguage,n=this.defaultLocale),n&&!this.supportedLocales.includes(`${t}-${n}`)&&(localStorage.removeItem(_e),t=this.defaultLanguage,n=this.defaultLocale),this.currentLanguageAndLocale={language:t,locale:n},localStorage.setItem(_e,JSON.stringify(this.currentLanguageAndLocale)),document.documentElement.lang=`${t}${n?`-${n}`:""}`,Vn.includes(t)?document.documentElement.dir="rtl":document.documentElement.dir="ltr",await this.getTranslations()}async getTranslations(){const{language:t,locale:n}=this.currentLanguageAndLocale;this.translations=(await zn(`../i18n/${t}${n?`-${n}`:""}.js`).catch(()=>$n(`../i18n/${this.defaultLocale}.js`))).default}t(t){return this.translations[t]||"\u26D4\uFE0F Missing translation"}}const g=new Dn;var Nn='<svg viewBox="0 0 57 57" xmlns="http://www.w3.org/2000/svg" stroke="currentColor"><g transform="translate(1 1)" stroke-width="2" fill="none" fill-rule="evenodd"><circle cx="5" cy="50" r="5"><animate attributeName="cy" begin="0s" dur="2.2s" values="50;5;50;50" calcMode="linear" repeatCount="indefinite"/><animate attributeName="cx" begin="0s" dur="2.2s" values="5;27;49;5" calcMode="linear" repeatCount="indefinite"/></circle><circle cx="27" cy="5" r="5"><animate attributeName="cy" begin="0s" dur="2.2s" from="5" to="5" values="5;50;50;5" calcMode="linear" repeatCount="indefinite"/><animate attributeName="cx" begin="0s" dur="2.2s" from="27" to="27" values="27;49;5;27" calcMode="linear" repeatCount="indefinite"/></circle><circle cx="49" cy="50" r="5"><animate attributeName="cy" begin="0s" dur="2.2s" values="50;50;5;50" calcMode="linear" repeatCount="indefinite"/><animate attributeName="cx" from="49" to="49" begin="0s" dur="2.2s" values="49;5;27;49" calcMode="linear" repeatCount="indefinite"/></circle></g></svg>';const Lt=(e,t)=>{!e||(e=e.replace(/\s+width="\d+(?:\.\d+)?"/,"").replace(/\s+height="\d+(?:\.\d+)"/,""),w.classList.remove(Ve),w.classList.remove(De),w.classList.add(t),w.innerHTML=e,R(`${g.t("svgSize")}: ${e.length} ${g.t("bytes")}`,3e3))},I=async()=>{w.innerHTML="",w.classList.remove(Ve,De),z.current&&(clearInterval(z.current),z.current=null);const e=w.getAttribute("transform");w.innerHTML=Nn,e&&(w.dataset.transform=e,w.setAttribute("transform",""));const t=Wt?await Ut():Bt();if(k.checked){const n=await In(t);e&&w.setAttribute("transform",e),Lt(n,Ve)}else{const n=await Tn(t);e&&w.setAttribute("transform",e),Lt(n,De)}},be=(()=>{if(typeof self>"u")return!1;if("top"in self&&self!==top)try{}catch{return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1})(),Hn=be?Promise.resolve().then(function(){return Gn}):Promise.resolve().then(function(){return Qn});async function Un(...e){return(await Hn).default(...e)}be?Promise.resolve().then(function(){return Xn}):Promise.resolve().then(function(){return tr});const Bn=be?Promise.resolve().then(function(){return Jn}):Promise.resolve().then(function(){return rr});async function Wn(...e){return(await Bn).default(...e)}const qn=async e=>{const t=await e.getFile();return t.handle=e,t};var Fn=async(e=[{}])=>{Array.isArray(e)||(e=[e]);const t=[];e.forEach((i,l)=>{t[l]={description:i.description||"Files",accept:{}},i.mimeTypes?i.mimeTypes.map(s=>{t[l].accept[s]=i.extensions||[]}):t[l].accept["*/*"]=i.extensions||[]});const n=await window.showOpenFilePicker({id:e[0].id,startIn:e[0].startIn,types:t,multiple:e[0].multiple||!1,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1}),r=await Promise.all(n.map(qn));return e[0].multiple?r:r[0]},Gn={__proto__:null,default:Fn};function $e(e){function t(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var r=n.done;return Promise.resolve(n.value).then(function(i){return{value:i,done:r}})}return $e=function(n){this.s=n,this.n=n.next},$e.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(n){var r=this.s.return;return r===void 0?Promise.resolve({value:n,done:!0}):t(r.apply(this.s,arguments))},throw:function(n){var r=this.s.return;return r===void 0?Promise.reject(n):t(r.apply(this.s,arguments))}},new $e(e)}const Ft=async(e,t,n=e.name,r)=>{const i=[],l=[];var s,a=!1,c=!1;try{for(var o,d=function(h){var u,m,y,C=2;for(typeof Symbol<"u"&&(m=Symbol.asyncIterator,y=Symbol.iterator);C--;){if(m&&(u=h[m])!=null)return u.call(h);if(y&&(u=h[y])!=null)return new $e(u.call(h));m="@@asyncIterator",y="@@iterator"}throw new TypeError("Object is not async iterable")}(e.values());a=!(o=await d.next()).done;a=!1){const h=o.value,u=`${n}/${h.name}`;h.kind==="file"?l.push(h.getFile().then(m=>(m.directoryHandle=e,m.handle=h,Object.defineProperty(m,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>u})))):h.kind!=="directory"||!t||r&&r(h)||i.push(Ft(h,t,u,r))}}catch(h){c=!0,s=h}finally{try{a&&d.return!=null&&await d.return()}finally{if(c)throw s}}return[...(await Promise.all(i)).flat(),...await Promise.all(l)]};var Yn=async(e={})=>{e.recursive=e.recursive||!1;const t=await window.showDirectoryPicker({id:e.id,startIn:e.startIn});return Ft(t,e.recursive,void 0,e.skipDirectory)},Xn={__proto__:null,default:Yn},Kn=async(e,t=[{}],n=null,r=!1,i=null)=>{Array.isArray(t)||(t=[t]),t[0].fileName=t[0].fileName||"Untitled";const l=[];let s=null;if(e instanceof Blob&&e.type?s=e.type:e.headers&&e.headers.get("content-type")&&(s=e.headers.get("content-type")),t.forEach((o,d)=>{l[d]={description:o.description||"Files",accept:{}},o.mimeTypes?(d===0&&s&&o.mimeTypes.push(s),o.mimeTypes.map(h=>{l[d].accept[h]=o.extensions||[]})):s?l[d].accept[s]=o.extensions||[]:l[d].accept["*/*"]=o.extensions||[]}),n)try{await n.getFile()}catch(o){if(n=null,r)throw o}const a=n||await window.showSaveFilePicker({suggestedName:t[0].fileName,id:t[0].id,startIn:t[0].startIn,types:l,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1});!n&&i&&i(a);const c=await a.createWritable();return"stream"in e?(await e.stream().pipeTo(c),a):"body"in e?(await e.body.pipeTo(c),a):(await c.write(await e),await c.close(),a)},Jn={__proto__:null,default:Kn},Zn=async(e=[{}])=>(Array.isArray(e)||(e=[e]),new Promise((t,n)=>{const r=document.createElement("input");r.type="file";const i=[...e.map(c=>c.mimeTypes||[]),...e.map(c=>c.extensions||[])].join();r.multiple=e[0].multiple||!1,r.accept=i||"",r.style.display="none",document.body.append(r);const l=c=>{typeof s=="function"&&s(),t(c)},s=e[0].legacySetup&&e[0].legacySetup(l,()=>s(n),r),a=()=>{window.removeEventListener("focus",a),r.remove()};r.addEventListener("click",()=>{window.addEventListener("focus",a)}),r.addEventListener("change",()=>{window.removeEventListener("focus",a),r.remove(),l(r.multiple?Array.from(r.files):r.files[0])}),r.click()})),Qn={__proto__:null,default:Zn},er=async(e=[{}])=>(Array.isArray(e)||(e=[e]),e[0].recursive=e[0].recursive||!1,new Promise((t,n)=>{const r=document.createElement("input");r.type="file",r.webkitdirectory=!0;const i=s=>{typeof l=="function"&&l(),t(s)},l=e[0].legacySetup&&e[0].legacySetup(i,()=>l(n),r);r.addEventListener("change",()=>{let s=Array.from(r.files);e[0].recursive?e[0].recursive&&e[0].skipDirectory&&(s=s.filter(a=>a.webkitRelativePath.split("/").every(c=>!e[0].skipDirectory({name:c,kind:"directory"})))):s=s.filter(a=>a.webkitRelativePath.split("/").length===2),i(s)}),r.click()})),tr={__proto__:null,default:er},nr=async(e,t={})=>{Array.isArray(t)&&(t=t[0]);const n=document.createElement("a");let r=e;"body"in e&&(r=await async function(s,a){const c=s.getReader(),o=new ReadableStream({start:u=>async function m(){return c.read().then(({done:y,value:C})=>{if(!y)return u.enqueue(C),m();u.close()})}()}),d=new Response(o),h=await d.blob();return c.releaseLock(),new Blob([h],{type:a})}(e.body,e.headers.get("content-type"))),n.download=t.fileName||"Untitled",n.href=URL.createObjectURL(await r);const i=()=>{typeof l=="function"&&l()},l=t.legacySetup&&t.legacySetup(i,()=>l(),n);return n.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(n.href),3e4),i()}),n.click(),null},rr={__proto__:null,default:nr};function ir(){return new Worker("/assets/svgoworker.656cd216.js",{type:"module"})}let G=null;const ze=async e=>(G&&G.terminate(),G=new ir,new Promise(t=>{const n=new MessageChannel;n.port1.onmessage=({data:r})=>{n.port1.close(),G&&(G.terminate(),G=null),t(r.result)},G.postMessage({svg:e},[n.port2])}));function Ue(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function ar(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=Ue(n);return(i,l)=>r.then(s=>l(s.transaction(t,i).objectStore(t)))}let Ye;function ht(){return Ye||(Ye=ar("keyval-store","keyval")),Ye}function re(e,t=ht()){return t("readonly",n=>Ue(n.get(e)))}function B(e,t,n=ht()){return n("readwrite",r=>(r.put(t,e),Ue(r.transaction)))}function or(e,t=ht()){return t("readwrite",n=>(n.delete(e),Ue(n.transaction)))}const ve="fileHandle",sr=e=>e?e.name.replace(/\.[^\.]+$/,""):"";Se.addEventListener("click",async()=>{try{const e=await Un({mimeTypes:["image/*"],description:"Image files"}),t=URL.createObjectURL(e);b.addEventListener("load",()=>{URL.revokeObjectURL(t)},{once:!0}),b.src=t,be&&await B(ve,e.handle)}catch(e){console.error(e.name,e.message),R(e.message)}});document.addEventListener("dragover",e=>{e.preventDefault()});document.addEventListener("dragenter",e=>{e.preventDefault(),He.classList.add("dropenter")});document.addEventListener("dragleave",e=>{e.preventDefault(),e.target===document.documentElement&&He.classList.remove("dropenter")});document.addEventListener("drop",async e=>{e.preventDefault(),e.stopPropagation(),He.classList.remove("dropenter");const t=e.dataTransfer.items[0];if(t.kind==="file"){let n;if(b.addEventListener("load",()=>{URL.revokeObjectURL(n)},{once:!0}),be){const i=await t.getAsFileSystemHandle();if(i.kind!=="file")return;const l=await i.getFile();n=URL.createObjectURL(l),b.src=n,await B(ve,i);return}const r=t.getAsFile();n=URL.createObjectURL(r),b.src=n}});Pe.addEventListener("click",async()=>{const e=async()=>{R(g.t("optimizingSVG"),1/0);const t=await ze(w.innerHTML);return jr(),new Blob([t],{type:"image/svg+xml"})};try{const t=sr(await re(ve));await Wn(e(),{fileName:t,description:"SVG file",extensions:[".svg"],mimeTypes:["image/svg+xml"]}),R(g.t("savedSVG"))}catch(t){console.error(t.name,t.message),R(t.message)}});Re.addEventListener("click",async()=>{try{const e=await navigator.clipboard.read();for(const t of e)for(const n of t.types)if(n.startsWith("image/")){const r=await t.getType(n);if(!r)return;const i=URL.createObjectURL(r);b.src=i;return}}catch(e){console.error(e.name,e.message),R(e.message)}});document.addEventListener("paste",e=>{try{if(!e.clipboardData.files.length)return;const t=e.clipboardData.files[0];if(t.type.startsWith("image/")){const n=URL.createObjectURL(t);b.src=n;return}}catch(t){console.error(t.name,t.message),R(t.message)}});Ce.addEventListener("click",async()=>{let e=w.innerHTML;R(g.t("optimizingSVG"),1/0);try{"ClipboardItem"in window?Nt?await navigator.clipboard.write([new ClipboardItem({"text/plain":new Promise(async t=>{t(new Blob([e],{type:"text/plain"}))})})]):(e=await ze(e),await navigator.clipboard.write([new ClipboardItem({"text/plain":new Promise(async t=>{t(new Blob([e],{type:"text/plain"}))}),"image/svg+xml":new Promise(async t=>{t(new Blob([e],{type:"image/svg+xml"}))})})])):await navigator.clipboard.writeText(await ze(e))}catch{e=await ze(e);const n=new Blob([e],{type:"text/plain"}),r=new Blob([e],{type:"image/svg+xml"});try{Number(navigator.userAgent.replace(/.*Chrome\/(\d+).*/,"$1"))<=88?await navigator.clipboard.write([new ClipboardItem({[n.type]:n})]):await navigator.clipboard.write([new ClipboardItem({[r.type]:r,[n.type]:n})])}catch{try{await navigator.clipboard.write([new ClipboardItem({[n.type]:n})])}catch(l){R(l.message);return}}}R(g.t("copiedSVG"))});class H{constructor(t){this.id=-1,this.nativePointer=t,this.pageX=t.pageX,this.pageY=t.pageY,this.clientX=t.clientX,this.clientY=t.clientY,self.Touch&&t instanceof Touch?this.id=t.identifier:ue(t)&&(this.id=t.pointerId)}getCoalesced(){if("getCoalescedEvents"in this.nativePointer){const t=this.nativePointer.getCoalescedEvents().map(n=>new H(n));if(t.length>0)return t}return[this]}}const ue=e=>"pointerId"in e,Xe=e=>"changedTouches"in e,kt=()=>{};class cr{constructor(t,{start:n=()=>!0,move:r=kt,end:i=kt,rawUpdates:l=!1,avoidPointerEvents:s=!1}={}){this._element=t,this.startPointers=[],this.currentPointers=[],this._excludeFromButtonsCheck=new Set,this._pointerStart=a=>{if(ue(a)&&a.buttons===0)this._excludeFromButtonsCheck.add(a.pointerId);else if(!(a.buttons&1))return;const c=new H(a);this.currentPointers.some(o=>o.id===c.id)||!this._triggerPointerStart(c,a)||(ue(a)?((a.target&&"setPointerCapture"in a.target?a.target:this._element).setPointerCapture(a.pointerId),this._element.addEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.addEventListener("pointerup",this._pointerEnd),this._element.addEventListener("pointercancel",this._pointerEnd)):(window.addEventListener("mousemove",this._move),window.addEventListener("mouseup",this._pointerEnd)))},this._touchStart=a=>{for(const c of Array.from(a.changedTouches))this._triggerPointerStart(new H(c),a)},this._move=a=>{if(!Xe(a)&&(!ue(a)||!this._excludeFromButtonsCheck.has(a.pointerId))&&a.buttons===0){this._pointerEnd(a);return}const c=this.currentPointers.slice(),o=Xe(a)?Array.from(a.changedTouches).map(h=>new H(h)):[new H(a)],d=[];for(const h of o){const u=this.currentPointers.findIndex(m=>m.id===h.id);u!==-1&&(d.push(h),this.currentPointers[u]=h)}d.length!==0&&this._moveCallback(c,d,a)},this._triggerPointerEnd=(a,c)=>{if(!Xe(c)&&c.buttons&1)return!1;const o=this.currentPointers.findIndex(h=>h.id===a.id);if(o===-1)return!1;this.currentPointers.splice(o,1),this.startPointers.splice(o,1),this._excludeFromButtonsCheck.delete(a.id);const d=!(c.type==="mouseup"||c.type==="touchend"||c.type==="pointerup");return this._endCallback(a,c,d),!0},this._pointerEnd=a=>{if(!!this._triggerPointerEnd(new H(a),a))if(ue(a)){if(this.currentPointers.length)return;this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd)}else window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)},this._touchEnd=a=>{for(const c of Array.from(a.changedTouches))this._triggerPointerEnd(new H(c),a)},this._startCallback=n,this._moveCallback=r,this._endCallback=i,this._rawUpdates=l&&"onpointerrawupdate"in window,self.PointerEvent&&!s?this._element.addEventListener("pointerdown",this._pointerStart):(this._element.addEventListener("mousedown",this._pointerStart),this._element.addEventListener("touchstart",this._touchStart),this._element.addEventListener("touchmove",this._move),this._element.addEventListener("touchend",this._touchEnd),this._element.addEventListener("touchcancel",this._touchEnd))}stop(){this._element.removeEventListener("pointerdown",this._pointerStart),this._element.removeEventListener("mousedown",this._pointerStart),this._element.removeEventListener("touchstart",this._touchStart),this._element.removeEventListener("touchmove",this._move),this._element.removeEventListener("touchend",this._touchEnd),this._element.removeEventListener("touchcancel",this._touchEnd),this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd),window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)}_triggerPointerStart(t,n){return this._startCallback(t,n)?(this.currentPointers.push(t),this.startPointers.push(t),!0):!1}}function lr(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var dr=`pinch-zoom {
  display: block;
  overflow: hidden;
  touch-action: none;
  --scale: 1;
  --x: 0;
  --y: 0;
}

pinch-zoom > * {
  transform: translate(var(--x), var(--y)) scale(var(--scale));
  transform-origin: 0 0;
  will-change: transform;
}
`;lr(dr);const Ee="min-scale";function xt(e,t){return t?Math.sqrt((t.clientX-e.clientX)**2+(t.clientY-e.clientY)**2):0}function St(e,t){return t?{clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2}:e}function Pt(e,t){return typeof e=="number"?e:e.trimRight().endsWith("%")?t*parseFloat(e)/100:parseFloat(e)}let Ct;function Gt(){return Ct||(Ct=document.createElementNS("http://www.w3.org/2000/svg","svg"))}function Ke(){return Gt().createSVGMatrix()}function Ot(){return Gt().createSVGPoint()}const Je=.01;class ur extends HTMLElement{constructor(){super();this._transform=Ke(),new MutationObserver(()=>this._stageElChange()).observe(this,{childList:!0});const t=new cr(this,{start:(n,r)=>t.currentPointers.length===2||!this._positioningEl?!1:(r.preventDefault(),!0),move:n=>{this._onPointerMove(n,t.currentPointers)}});this.addEventListener("wheel",n=>this._onWheel(n))}static get observedAttributes(){return[Ee]}attributeChangedCallback(t,n,r){t===Ee&&this.scale<this.minScale&&this.setTransform({scale:this.minScale})}get minScale(){const t=this.getAttribute(Ee);if(!t)return Je;const n=parseFloat(t);return Number.isFinite(n)?Math.max(Je,n):Je}set minScale(t){this.setAttribute(Ee,String(t))}connectedCallback(){this._stageElChange()}get x(){return this._transform.e}get y(){return this._transform.f}get scale(){return this._transform.a}scaleTo(t,n={}){let{originX:r=0,originY:i=0}=n;const{relativeTo:l="content",allowChangeEvent:s=!1}=n,a=l==="content"?this._positioningEl:this;if(!a||!this._positioningEl){this.setTransform({scale:t,allowChangeEvent:s});return}const c=a.getBoundingClientRect();if(r=Pt(r,c.width),i=Pt(i,c.height),l==="content")r+=this.x,i+=this.y;else{const o=this._positioningEl.getBoundingClientRect();r-=o.left,i-=o.top}this._applyChange({allowChangeEvent:s,originX:r,originY:i,scaleDiff:t/this.scale})}setTransform(t={}){const{scale:n=this.scale,allowChangeEvent:r=!1}=t;let{x:i=this.x,y:l=this.y}=t;if(!this._positioningEl){this._updateTransform(n,i,l,r);return}const s=this.getBoundingClientRect(),a=this._positioningEl.getBoundingClientRect();if(!s.width||!s.height){this._updateTransform(n,i,l,r);return}let c=Ot();c.x=a.left-s.left,c.y=a.top-s.top;let o=Ot();o.x=a.width+c.x,o.y=a.height+c.y;const d=Ke().translate(i,l).scale(n).multiply(this._transform.inverse());c=c.matrixTransform(d),o=o.matrixTransform(d),c.x>s.width?i+=s.width-c.x:o.x<0&&(i+=-o.x),c.y>s.height?l+=s.height-c.y:o.y<0&&(l+=-o.y),this._updateTransform(n,i,l,r)}_updateTransform(t,n,r,i){if(!(t<this.minScale)&&!(t===this.scale&&n===this.x&&r===this.y)&&(this._transform.e=n,this._transform.f=r,this._transform.d=this._transform.a=t,this.style.setProperty("--x",this.x+"px"),this.style.setProperty("--y",this.y+"px"),this.style.setProperty("--scale",this.scale+""),i)){const l=new Event("change",{bubbles:!0});this.dispatchEvent(l)}}_stageElChange(){this._positioningEl=void 0,this.children.length!==0&&(this._positioningEl=this.children[0],this.children.length>1&&console.warn("<pinch-zoom> must not have more than one child."),this.setTransform({allowChangeEvent:!0}))}_onWheel(t){if(!this._positioningEl)return;t.preventDefault();const n=this._positioningEl.getBoundingClientRect();let{deltaY:r}=t;const{ctrlKey:i,deltaMode:l}=t;l===1&&(r*=15);const a=1-r/(i?100:300);this._applyChange({scaleDiff:a,originX:t.clientX-n.left,originY:t.clientY-n.top,allowChangeEvent:!0})}_onPointerMove(t,n){if(!this._positioningEl)return;const r=this._positioningEl.getBoundingClientRect(),i=St(t[0],t[1]),l=St(n[0],n[1]),s=i.clientX-r.left,a=i.clientY-r.top,c=xt(t[0],t[1]),o=xt(n[0],n[1]),d=c?o/c:1;this._applyChange({originX:s,originY:a,scaleDiff:d,panX:l.clientX-i.clientX,panY:l.clientY-i.clientY,allowChangeEvent:!0})}_applyChange(t={}){const{panX:n=0,panY:r=0,originX:i=0,originY:l=0,scaleDiff:s=1,allowChangeEvent:a=!1}=t,c=Ke().translate(n,r).translate(i,l).translate(this.x,this.y).scale(s).translate(-i,-l).scale(this.scale);this.setTransform({allowChangeEvent:a,scale:c.a,x:c.e,y:c.f})}}customElements.define("pinch-zoom",ur);// @license © 2019 Google LLC. Licensed under the Apache License, Version 2.0.
const he=document,ce=localStorage,je="prefers-color-scheme",Le="media",E="light",x="dark",Rt=`(${je}:${x})`,hr=`(${je}:${E})`,Tt="link[rel=stylesheet]",Ze="remember",Qe="legend",ke="toggle",At="switch",et="appearance",tt="permanent",nt="mode",le="colorschemechange",rt="permanentcolorscheme",It="all",it="not all",v="dark-mode-toggle",ne="https://googlechromelabs.github.io/dark-mode-toggle/demo/",Z=(e,t,n=t)=>{Object.defineProperty(e,n,{enumerable:!0,get(){const r=this.getAttribute(t);return r===null?"":r},set(r){this.setAttribute(t,r)}})},pr=(e,t,n=t)=>{Object.defineProperty(e,n,{enumerable:!0,get(){return this.hasAttribute(t)},set(r){r?this.setAttribute(t,""):this.removeAttribute(t)}})},Yt=he.createElement("template");Yt.innerHTML=`<style>*,::after,::before{box-sizing:border-box}:host{contain:content;display:block}:host([hidden]){display:none}form{background-color:var(--${v}-background-color,transparent);color:var(--${v}-color,inherit);padding:0}fieldset{border:none;margin:0;padding-block:.25rem;padding-inline:.25rem}legend{font:var(--${v}-legend-font,inherit);padding:0}input,label{cursor:pointer}label{white-space:nowrap}input{opacity:0;position:absolute;pointer-events:none}input:focus-visible+label{outline:#e59700 auto 2px;outline:-webkit-focus-ring-color auto 5px}label:not(:empty)::before{margin-inline-end:.5rem;}label::before{content:"";display:inline-block;background-size:var(--${v}-icon-size,1rem);background-repeat:no-repeat;height:var(--${v}-icon-size,1rem);width:var(--${v}-icon-size,1rem);vertical-align:middle;}[part=lightLabel]::before{background-image:var(--${v}-light-icon, url("${ne}sun.png"))}[part=darkLabel]::before{filter:var(--${v}-icon-filter, none);background-image:var(--${v}-dark-icon, url("${ne}moon.png"))}[part=toggleLabel]::before{background-image:var(--${v}-checkbox-icon,none)}[part=permanentLabel]::before{background-image:var(--${v}-remember-icon-unchecked, url("${ne}unchecked.svg"))}[part=darkLabel],[part=lightLabel],[part=toggleLabel]{font:var(--${v}-label-font,inherit)}[part=darkLabel]:empty,[part=lightLabel]:empty,[part=toggleLabel]:empty{font-size:0;padding:0}[part=permanentLabel]{font:var(--${v}-remember-font,inherit)}input:checked+[part=permanentLabel]::before{background-image:var(--${v}-remember-icon-checked, url("${ne}checked.svg"))}input:checked+[part=darkLabel],input:checked+[part=lightLabel]{background-color:var(--${v}-active-mode-background-color,transparent)}input:checked+[part=darkLabel]::before,input:checked+[part=lightLabel]::before{background-color:var(--${v}-active-mode-background-color,transparent)}input:checked+[part=toggleLabel]::before{filter:var(--${v}-icon-filter, none)}input:checked+[part=toggleLabel]+aside [part=permanentLabel]::before{filter:var(--${v}-remember-filter, invert(100%))}aside{visibility:hidden;margin-block-start:.15rem}[part=darkLabel]:focus-visible~aside,[part=lightLabel]:focus-visible~aside,[part=toggleLabel]:focus-visible~aside{visibility:visible;transition:visibility 0s}aside [part=permanentLabel]:empty{display:none}@media (hover:hover){aside{transition:visibility 3s}aside:hover{visibility:visible}[part=darkLabel]:hover~aside,[part=lightLabel]:hover~aside,[part=toggleLabel]:hover~aside{visibility:visible;transition:visibility 0s}}</style><form part=form><fieldset part=fieldset><legend part=legend></legend><input part=lightRadio id=l name=mode type=radio><label part=lightLabel for=l></label><input part=darkRadio id=d name=mode type=radio><label part=darkLabel for=d></label><input part=toggleCheckbox id=t type=checkbox><label part=toggleLabel for=t></label><aside part=aside><input part=permanentCheckbox id=p type=checkbox><label part=permanentLabel for=p></label></aside></fieldset></form>`;class mr extends HTMLElement{static get observedAttributes(){return[nt,et,tt,Qe,E,x,Ze]}constructor(){super();Z(this,nt),Z(this,et),Z(this,Qe),Z(this,E),Z(this,x),Z(this,Ze),pr(this,tt),this.t=null,this.i=null,he.addEventListener(le,t=>{this.mode=t.detail.colorScheme,this.o(),this.l()}),he.addEventListener(rt,t=>{this.permanent=t.detail.permanent,this.h.checked=this.permanent}),this.p()}p(){const t=this.attachShadow({mode:"open"});t.appendChild(Yt.content.cloneNode(!0)),this.t=he.querySelectorAll(`${Tt}[${Le}*=${je}][${Le}*="${x}"]`),this.i=he.querySelectorAll(`${Tt}[${Le}*=${je}][${Le}*="${E}"]`),this.g=t.querySelector("[part=lightRadio]"),this.m=t.querySelector("[part=lightLabel]"),this.u=t.querySelector("[part=darkRadio]"),this.k=t.querySelector("[part=darkLabel]"),this.v=t.querySelector("[part=toggleCheckbox]"),this.$=t.querySelector("[part=toggleLabel]"),this.L=t.querySelector("legend"),this.M=t.querySelector("aside"),this.h=t.querySelector("[part=permanentCheckbox]"),this.C=t.querySelector("[part=permanentLabel]");const n=matchMedia(Rt).media!==it;n&&matchMedia(Rt).addListener(({matches:i})=>{this.mode=i?x:E,this.R(le,{colorScheme:this.mode})});const r=ce.getItem(v);r&&[x,E].includes(r)?(this.mode=r,this.h.checked=!0,this.permanent=!0):n&&(this.mode=matchMedia(hr).matches?E:x),this.mode||(this.mode=E),this.permanent&&!r&&ce.setItem(v,this.mode),this.appearance||(this.appearance=ke),this._(),this.o(),this.l(),[this.g,this.u].forEach(i=>{i.addEventListener("change",()=>{this.mode=this.g.checked?E:x,this.l(),this.R(le,{colorScheme:this.mode})})}),this.v.addEventListener("change",()=>{this.mode=this.v.checked?x:E,this.o(),this.R(le,{colorScheme:this.mode})}),this.h.addEventListener("change",()=>{this.permanent=this.h.checked,this.R(rt,{permanent:this.permanent})}),this.A(),this.R(le,{colorScheme:this.mode}),this.R(rt,{permanent:this.permanent})}attributeChangedCallback(t,n,r){if(t===nt){if(![E,x].includes(r))throw new RangeError(`Allowed values: "${E}" and "${x}".`);matchMedia("(hover:none)").matches&&this.remember&&this.S(),this.permanent&&ce.setItem(v,this.mode),this.o(),this.l(),this.A()}else if(t===et){if(![ke,At].includes(r))throw new RangeError(`Allowed values: "${ke}" and "${At}".`);this._()}else t===tt?(this.permanent?ce.setItem(v,this.mode):ce.removeItem(v),this.h.checked=this.permanent):t===Qe?this.L.textContent=r:t===Ze?this.C.textContent=r:t===E?(this.m.textContent=r,this.mode===E&&(this.$.textContent=r)):t===x&&(this.k.textContent=r,this.mode===x&&(this.$.textContent=r))}R(t,n){this.dispatchEvent(new CustomEvent(t,{bubbles:!0,composed:!0,detail:n}))}_(){const t=this.appearance===ke;this.g.hidden=t,this.m.hidden=t,this.u.hidden=t,this.k.hidden=t,this.v.hidden=!t,this.$.hidden=!t}o(){this.mode===E?this.g.checked=!0:this.u.checked=!0}l(){this.mode===E?(this.$.style.setProperty(`--${v}-checkbox-icon`,`var(--${v}-light-icon,url("${ne}moon.png"))`),this.$.textContent=this.light,this.light||(this.$.ariaLabel=x),this.v.checked=!1):(this.$.style.setProperty(`--${v}-checkbox-icon`,`var(--${v}-dark-icon,url("${ne}sun.png"))`),this.$.textContent=this.dark,this.dark||(this.$.ariaLabel=E),this.v.checked=!0)}A(){this.mode===E?(this.i.forEach(t=>{t.media=It,t.disabled=!1}),this.t.forEach(t=>{t.media=it,t.disabled=!0})):(this.t.forEach(t=>{t.media=It,t.disabled=!1}),this.i.forEach(t=>{t.media=it,t.disabled=!0}))}S(){this.M.style.visibility="visible",setTimeout(()=>{this.M.style.visibility="hidden"},3e3)}}customElements.define(v,mr);var gr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z"/></svg>',vr='<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><rect fill="none" height="24" width="24"/></g><g><g><path d="M17.66,17.66l-1.06,1.06l-0.71-0.71l1.06-1.06l-1.94-1.94l-1.06,1.06l-0.71-0.71l1.06-1.06l-1.94-1.94l-1.06,1.06 l-0.71-0.71l1.06-1.06L9.7,9.7l-1.06,1.06l-0.71-0.71l1.06-1.06L7.05,7.05L5.99,8.11L5.28,7.4l1.06-1.06L4,4v14c0,1.1,0.9,2,2,2 h14L17.66,17.66z M7,17v-5.76L12.76,17H7z"/></g></g></svg>',fr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M15.96 10.29l-2.75 3.54-1.96-2.36L8.5 15h11l-3.54-4.71zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"/></svg>',br='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"/></svg>',yr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"/></svg>',wr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"/></svg>',_r='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>',Er='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z"/></svg>',Lr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z"/></svg>',kr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/></svg>',xr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"/></svg>',Sr='<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><rect fill="none" height="24" width="24"/></g><g><g><path d="M20,17H4V5h8V3H4C2.89,3,2,3.89,2,5v12c0,1.1,0.89,2,2,2h4v2h8v-2h4c1.1,0,2-0.9,2-2v-3h-2V17z"/><polygon points="17,14 22,9 20.59,7.59 18,10.17 18,3 16,3 16,10.17 13.41,7.59 12,9"/></g></g></svg>';const pt="monochromeSettings",mt="colorSettings",Ve="color",De="monochrome",D="%",Xt="deg",pe="steps",$t="pixels",dt="",Pr="segments",j={brightness:"brightness",contrast:"contrast",grayscale:"grayscale",hueRotate:"hue-rotate",invert:"invert",opacity:"opacity",saturate:"saturate",sepia:"sepia"},S={red:"red",green:"green",blue:"blue",alpha:"alpha"},fe={scale:"scale",rotation:"rotation"},L={minPathLength:"minPathSegments",strokeWidth:"strokeWidth",turdsize:"turdsize",alphamax:"alphamax",turnpolicy:"turnpolicy",opticurve:"opticurve",opttolerance:"opttolerance"},Kt={[j.brightness]:{unit:D,initial:100,min:0,max:200},[j.contrast]:{unit:D,initial:100,min:0,max:200},[j.grayscale]:{unit:D,initial:0,min:0,max:100},[j.hueRotate]:{unit:Xt,initial:0,min:0,max:360},[j.invert]:{unit:D,initial:0,min:0,max:100},[j.opacity]:{unit:D,initial:100,min:0,max:100},[j.saturate]:{unit:D,initial:100,min:0,max:200},[j.sepia]:{unit:D,initial:0,min:0,max:100}},Cr={[S.red]:{unit:pe,initial:5,min:1,max:20},[S.green]:{unit:pe,initial:5,min:1,max:20},[S.blue]:{unit:pe,initial:5,min:1,max:20},[S.alpha]:{unit:pe,initial:1,min:1,max:10}},Or={[fe.scale]:{unit:D,initial:100,min:1,max:200},[fe.rotation]:{unit:Xt,initial:0,min:0,max:360}},Rr={[L.turdsize]:{unit:$t,initial:2,min:0,max:50},[L.strokeWidth]:{unit:$t,initial:0,min:0,max:100},[L.minPathLength]:{unit:Pr,initial:0,min:0,max:30},[L.alphamax]:{unit:dt,initial:1,min:0,max:1.3334},[L.turnpolicy]:{unit:pe,initial:4,min:0,max:6},[L.opttolerance]:{unit:dt,initial:.2,min:0,max:1}},Tr=[{name:"svgOptions",icon:br},{name:"colorChannels",icon:gr},{name:"imageSizeAndRotation",icon:vr},{name:"imagePreprocessing",icon:fr}],gt=[Object.entries(Rr),Object.entries(Cr),Object.entries(Or),Object.entries(Kt)],f={},Ne={},$={},ie=(e,t)=>{const n=g.t(e);return` (${e?`${t}${n.length===1?n:` ${n}`}`:t})`},N=e=>{const t=document.createElement("span");return t.classList.add("icon"),t.innerHTML=e,t},Ar=(e,t)=>{const n=document.createElement("details");$[e]=n;const r=document.createElement("summary"),i=N(t);r.append(i);const l=document.createElement("span");return l.textContent=g.t(e),l.dataset.i18nKey=e,r.append(l),n.append(r),n},Ir=["alphamax","turnpolicy","optimize-curves","opttolerance","minPathSegments"],$r=async(e,t,n)=>{const{unit:r,min:i,max:l,initial:s}=t,a=document.createElement("div");a.classList.add("preprocess-input"),Ir.includes(e)&&a.classList.add("advanced");const c=document.createElement("label"),o=document.createElement("span");o.textContent=g.t(e),o.dataset.i18nKey=e,c.append(o),c.htmlFor=e;const d=await Be(),h=document.createElement("span");Ne[e]=h,h.textContent=ie(r,d[e]||s),h.dataset.dynamicI18nKey=r,h.dataset.dynamicValue=d[e]||s;const u=document.createElement("input");f[e]=u,u.id=e,u.type="range",u.class=e,r&&(u.dataset.unit=r),r===dt&&(u.step=.01),u.min=i,u.max=l,u.value=d[e]||s,u.addEventListener("input",()=>{h.textContent=ie(r,u.value),h.dataset.dynamicValue=u.value}),Object.keys(S).includes(e)?u.addEventListener("change",Ie(async()=>{await X(u),await I()},250)):Object.keys(L).includes(e)?u.addEventListener("change",Ie(async()=>{await X(u),await I()},250)):u.addEventListener("change",Ie(async()=>{await X(u),await I()},250));const m=document.createElement("button");m.type="button",m.textContent=g.t("reset"),m.dataset.i18nKey="reset",m.addEventListener("click",async()=>{u.value=s,h.textContent=ie(r,s),h.dataset.dynamicValue=s,u.dispatchEvent(new Event("change"))}),c.append(h),a.append(c);const y=document.createElement("div");a.append(y),y.append(u),y.append(m),n.append(a)},Jt=()=>{const e=!T.checked;Object.keys(S).forEach(t=>{f[t].disabled=e})};T.addEventListener("change",async()=>{Jt(),await X(T),await I()});const vt=async()=>{const e=await Be();T.checked=e[T.id]??T.defaultChecked,Jt(),M.checked=e[M.id]??M.defaultChecked,O.checked=e[O.id]??O.defaultChecked,Zt(),Y.checked=e[Y.id]??Y.defaultChecked,en(),gt.forEach(t=>{for(const[n,r]of t){const i=e[f[n].id]||r.initial;f[n].value=i,Ne[n].textContent=ie(r.unit,i)}})};k.addEventListener("change",async()=>{await B(k.id,k.checked),await B(A.id,A.checked),await vt(),await I()});A.addEventListener("change",async()=>{await B(k.id,k.checked),await B(A.id,A.checked),await vt(),await I()});M.addEventListener("change",async()=>{await X(M),await I()});const Zt=()=>{f.opttolerance.disabled=!O.checked};O.addEventListener("change",async()=>{Zt(),await X(O),await I()});me.addEventListener("input",()=>{V.classList.toggle("debug",me.checked)});const zr=async()=>{await g.getTranslations(),Qt();const e=getComputedStyle(document.documentElement).getPropertyValue("--mobile-breakpoint"),t=window.matchMedia(`(max-width: ${e})`),n=()=>{if(t.matches){ct.open=!1;return}ct.open=!0};n(),t.addEventListener("change",n),k.checked=await re(k.id)??k.defaultChecked,A.checked=await re(A.id)??A.defaultChecked,k.checked&&w.classList.add(Ve),A.checked&&w.classList.add(De);const r=[];gt.forEach(async(s,a)=>{const{name:c,icon:o}=Tr[a],d=Ar(c,o);yt.append(d),a<2&&(d.open=!0),c==="colorChannels"?$.colorChannels.append(T.parentNode):c==="svgOptions"?($.svgOptions.append(k.parentNode),$.svgOptions.append(A.parentNode)):c==="imageSizeAndRotation"&&$.imageSizeAndRotation.append(M.parentNode);for(const[h,u]of s)r.push($r(h,u,d));Promise.all(r).then(async()=>{for(const[h]of s){if(h==="opttolerance"){const u=$.svgOptions.querySelector('[for="opttolerance"]').parentNode;$.svgOptions.insertBefore(O.parentNode,u)}if(c==="svgOptions"){const u=$.svgOptions.querySelector(".preprocess-input.advanced");$.svgOptions.insertBefore(Y.parentNode,u)}}await vt()})}),yt.append(ut.parentNode),b.addEventListener("load",async()=>{b.width=b.naturalWidth,b.height=b.naturalHeight;const s=await Be();if(b.src!==new URL("/favicon.png",location.href).toString()||Object.keys(s).length>1)setTimeout(async()=>{Dt(),await I()},100);else{const a=await fetch(`/potraced-${k.checked?"color":"monochrome"}.svg`).then(c=>c.text());w.innerHTML=a}}),b.complete&&b.dispatchEvent(new Event("load")),Ae.hidden=!1,new URL(location).searchParams.has("debug")&&(me.checked=!0,me.labels[0].hidden=!1,me.dispatchEvent(new Event("input")));try{const s=await re(ve);if(s&&await Mr(s)){const a=await s.getFile(),c=URL.createObjectURL(a);b.src=c}}catch(s){console.error(s.name,s.message),await or(ve)}},Mr=async e=>{const t={mode:"read"};return await e.queryPermission(t)==="granted"||await e.requestPermission(t)==="granted"},Qt=()=>{gn.textContent=g.t("license"),vn.textContent=g.t("about"),ut.textContent=g.t("resetAll"),ln.textContent=g.t("posterizeInputImage"),dn.textContent=g.t("colorSVG"),un.textContent=g.t("monochromeSVG"),hn.textContent=g.t("considerDPR"),pn.textContent=g.t("opticurve"),mn.textContent=g.t("showAdvancedControls"),Se.innerHTML="",Se.append(N(yr));const e=document.createElement("span");e.textContent=g.t("openImage"),Se.append(e),Pe.innerHTML="",Pe.append(N(wr));const t=document.createElement("span");t.textContent=g.t("saveSVG"),Pe.append(t),Oe.innerHTML="",Oe.append(N(Nt?Lr:kr));const n=document.createElement("span");n.textContent=g.t("shareSVG"),Oe.append(n),Ce.innerHTML="",Ce.append(N(_r));const r=document.createElement("span");r.textContent=g.t("copySVG"),Ce.append(r),Re.innerHTML="",Re.append(N(Er));const i=document.createElement("span");i.textContent=g.t("pasteImage"),Re.append(i),Te.innerHTML="",Te.append(N(Sr));const l=document.createElement("span");l.textContent=g.t("install"),Te.append(l),He.dataset.dropText=g.t("dropFileHere"),qe.innerHTML="",qe.append(N(xr)),qe.append(document.createTextNode(g.t("tweak"))),Vt.ariaLabel=g.t("closeOptions"),document.querySelectorAll("[data-i18n-key]").forEach(s=>{s.textContent=g.t(s.dataset.i18nKey)}),document.querySelectorAll("[data-dynamic-i18n-key]").forEach(s=>{s.textContent=ie(s.dataset.dynamicI18nKey,s.dataset.dynamicValue)}),Me.innerHTML="",g.supportedLocales.sort().forEach(s=>{const[a,c]=s.split("-"),o=document.createElement("option");o.value=s,o.textContent=g.t(`${a}${c}`),a===g.currentLanguageAndLocale.language&&c===g.currentLanguageAndLocale.locale&&(o.selected=!0),Me.append(o)})};Me.addEventListener("change",async()=>{const[e,t]=Me.value.split("-");try{await g.setLanguageAndLocale(e,t),Qt()}catch(n){console.error(n.name,n.message)}});ut.addEventListener("click",async()=>{const e=(t,n,r)=>{f[t].value=r,Ne[t].textContent=ie(n,r),Ne[t].dataset.dynamicValue=r};gt.forEach(t=>{for(const[n,r]of t)e(n,r.unit,r.initial)}),O.checked=O.defaultChecked,opttolerance.disabled=!O.defaultChecked,T.checked=T.defaultChecked,M.checked=M.defaultChecked,await Vr(),Dt(),await I()});let at=null;const R=(e,t=5e3)=>{if(Q.innerHTML=e,Q.hidden=!1,at&&clearTimeout(at),t!==1/0){at=setTimeout(()=>{Q.hidden=!0,Q.textContent=""},t);return}},jr=()=>{Q.hidden=!0,Q.textContent=""},en=async()=>{await X(Y),document.querySelectorAll(".advanced").forEach(e=>{Y.checked?e.style.display="block":e.style.display="none"})};Y.addEventListener("change",en);document.documentElement.style.setProperty("--100vh",`${window.innerHeight}px`);window.addEventListener("resize",Ie(()=>{document.documentElement.style.setProperty("--100vh",`${window.innerHeight}px`)},250));Vt.addEventListener("click",()=>{ct.open=!1});const Vr=async()=>{await B(k.checked?mt:pt,{})},Be=async()=>{const e=k.checked?await re(mt):await re(pt);return e||{}},X=async e=>{const t=await Be();t[e.id]=e.type==="range"?e.value:e.checked,await B(k.checked?mt:pt,t)};try{self["workbox:window:6.5.2"]&&_()}catch{}function zt(e,t){return new Promise(function(n){var r=new MessageChannel;r.port1.onmessage=function(i){n(i.data)},e.postMessage(t,[r.port2])})}function Dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mt(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nr(e,t){var n;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=function(i,l){if(i){if(typeof i=="string")return Mt(i,l);var s=Object.prototype.toString.call(i).slice(8,-1);return s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set"?Array.from(i):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Mt(i,l):void 0}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(n=e[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.5.2"]&&_()}catch{}var ot=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})};function st(e,t){var n=location.href;return new URL(e,n).href===new URL(t,n).href}var de=function(e,t){this.type=e,Object.assign(this,t)};function xe(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function Hr(){}var Ur={type:"SKIP_WAITING"};function jt(e,t){if(!t)return e&&e.then?e.then(Hr):Promise.resolve()}var Br=function(e){var t,n;function r(a,c){var o,d;return c===void 0&&(c={}),(o=e.call(this)||this).nn={},o.tn=0,o.rn=new ot,o.en=new ot,o.on=new ot,o.un=0,o.an=new Set,o.cn=function(){var h=o.fn,u=h.installing;o.tn>0||!st(u.scriptURL,o.sn.toString())||performance.now()>o.un+6e4?(o.vn=u,h.removeEventListener("updatefound",o.cn)):(o.hn=u,o.an.add(u),o.rn.resolve(u)),++o.tn,u.addEventListener("statechange",o.ln)},o.ln=function(h){var u=o.fn,m=h.target,y=m.state,C=m===o.vn,W={sw:m,isExternal:C,originalEvent:h};!C&&o.mn&&(W.isUpdate=!0),o.dispatchEvent(new de(y,W)),y==="installed"?o.wn=self.setTimeout(function(){y==="installed"&&u.waiting===m&&o.dispatchEvent(new de("waiting",W))},200):y==="activating"&&(clearTimeout(o.wn),C||o.en.resolve(m))},o.dn=function(h){var u=o.hn,m=u!==navigator.serviceWorker.controller;o.dispatchEvent(new de("controlling",{isExternal:m,originalEvent:h,sw:u,isUpdate:o.mn})),m||o.on.resolve(u)},o.gn=(d=function(h){var u=h.data,m=h.ports,y=h.source;return xe(o.getSW(),function(){o.an.has(y)&&o.dispatchEvent(new de("message",{data:u,originalEvent:h,ports:m,sw:y}))})},function(){for(var h=[],u=0;u<arguments.length;u++)h[u]=arguments[u];try{return Promise.resolve(d.apply(this,h))}catch(m){return Promise.reject(m)}}),o.sn=a,o.nn=c,navigator.serviceWorker.addEventListener("message",o.gn),o}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i,l,s=r.prototype;return s.register=function(a){var c=(a===void 0?{}:a).immediate,o=c!==void 0&&c;try{var d=this;return function(h,u){var m=h();return m&&m.then?m.then(u):u(m)}(function(){if(!o&&document.readyState!=="complete")return jt(new Promise(function(h){return window.addEventListener("load",h)}))},function(){return d.mn=Boolean(navigator.serviceWorker.controller),d.yn=d.pn(),xe(d.bn(),function(h){d.fn=h,d.yn&&(d.hn=d.yn,d.en.resolve(d.yn),d.on.resolve(d.yn),d.yn.addEventListener("statechange",d.ln,{once:!0}));var u=d.fn.waiting;return u&&st(u.scriptURL,d.sn.toString())&&(d.hn=u,Promise.resolve().then(function(){d.dispatchEvent(new de("waiting",{sw:u,wasWaitingBeforeRegister:!0}))}).then(function(){})),d.hn&&(d.rn.resolve(d.hn),d.an.add(d.hn)),d.fn.addEventListener("updatefound",d.cn),navigator.serviceWorker.addEventListener("controllerchange",d.dn),d.fn})})}catch(h){return Promise.reject(h)}},s.update=function(){try{return this.fn?jt(this.fn.update()):void 0}catch(a){return Promise.reject(a)}},s.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},s.messageSW=function(a){try{return xe(this.getSW(),function(c){return zt(c,a)})}catch(c){return Promise.reject(c)}},s.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&zt(this.fn.waiting,Ur)},s.pn=function(){var a=navigator.serviceWorker.controller;return a&&st(a.scriptURL,this.sn.toString())?a:void 0},s.bn=function(){try{var a=this;return function(c,o){try{var d=c()}catch(h){return o(h)}return d&&d.then?d.then(void 0,o):d}(function(){return xe(navigator.serviceWorker.register(a.sn,a.nn),function(c){return a.un=performance.now(),c})},function(c){throw c})}catch(c){return Promise.reject(c)}},i=r,(l=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&Dr(i.prototype,l),r}(function(){function e(){this.Pn=new Map}var t=e.prototype;return t.addEventListener=function(n,r){this.Sn(n).add(r)},t.removeEventListener=function(n,r){this.Sn(n).delete(r)},t.dispatchEvent=function(n){n.target=this;for(var r,i=Nr(this.Sn(n.type));!(r=i()).done;)(0,r.value)(n)},t.Sn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},e}());function Wr(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisterError:l}=e;let s;const a=async(c=!0)=>{};return"serviceWorker"in navigator&&(s=new Br("/sw.js",{scope:"/",type:"classic"}),s.addEventListener("activated",c=>{c.isUpdate?window.location.reload():r?.()}),s.register({immediate:t}).then(c=>{i?.(c)}).catch(c=>{l?.(c)})),a}"launchQueue"in window&&p(()=>import("./filehandling.056d7580.js"),[]);"windowControlsOverlay"in navigator&&p(()=>import("./windowcontrols.29a3336e.js"),[]);"onbeforeinstallprompt"in window&&"onappinstalled"in window?p(()=>import("./install.2a9353e7.js"),[]):Te.style.display="none";"share"in navigator&&"canShare"in navigator?p(()=>import("./share.5e5161f0.js"),[]):Oe.style.display="none";"serviceWorker"in navigator&&window.addEventListener("load",async()=>{if(await navigator.serviceWorker.register("./sharetargetsw.js",{scope:"/share-target/"}),location.search.includes("share-target")){const e=await caches.keys(),t=await caches.open(e.filter(r=>r.startsWith("media"))[0]),n=await t.match("shared-image");if(n){const r=await n.blob();await t.delete("shared-image");const i=URL.createObjectURL(r);b.addEventListener("load",()=>{URL.revokeObjectURL(i)},{once:!0}),b.src=i}}});const qr=()=>{let e=!1;const t={get type(){e=!0}};try{new Worker("blob://",t)}finally{return e}};(async()=>(zr(),qr()||await p(()=>import("./module-workers-polyfill.min.dc7647fd.js"),[]),Wr({onOfflineReady(){R(g.t("readyToWorkOffline"))},onNeedRefresh(){location.reload()}})()))();location.href==="https://svgco.de/"&&p(()=>import("./collect.6b4b7dfe.js"),[]);export{ve as F,Gr as a,Te as b,Oe as c,Ie as d,w as e,R as f,g,jr as h,b as i,sr as j,re as k,Fr as m,ze as o,B as s};
