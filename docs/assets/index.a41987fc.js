const rn=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerpolicy&&(l.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?l.credentials="include":i.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}};rn();const an="modulepreload",vt={},on="/",p=function(e,n){return!n||n.length===0?e():Promise.all(n.map(r=>{if(r=`${on}${r}`,r in vt)return;vt[r]=!0;const i=r.endsWith(".css"),l=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${l}`))return;const c=document.createElement("link");if(c.rel=i?"stylesheet":an,i||(c.as="script",c.crossOrigin=""),c.href=r,document.head.appendChild(c),i)return new Promise((a,s)=>{c.addEventListener("load",a),c.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())},z=document.querySelector("canvas"),Tr=document.querySelector(".menu"),Ar=document.querySelector("main"),wt=document.querySelector(".details"),R=document.querySelector(".posterize"),sn=document.querySelector("[for=posterize]"),k=document.querySelector(".color"),cn=document.querySelector("[for=color]"),T=document.querySelector(".monochrome"),ln=document.querySelector("[for=monochrome]"),$=document.querySelector(".consider-dpr"),un=document.querySelector('[for="consider-dpr"]'),P=document.querySelector(".optimize-curves"),dn=document.querySelector('[for="optimize-curves"]'),Y=document.querySelector(".show-advanced"),hn=document.querySelector('[for="show-advanced"]'),w=document.querySelector("img"),ut=document.querySelector(".reset-all"),xe=document.querySelector(".open"),Ce=document.querySelector(".save"),Pe=document.querySelector(".copy"),Oe=document.querySelector(".share"),Re=document.querySelector(".paste"),Te=document.querySelector(".install"),y=document.querySelector(".svg-output"),ge=document.querySelector(".debug"),Ae=document.querySelector("progress"),Q=document.querySelector(".toast"),He=document.documentElement,st=document.querySelector("details.main"),Ue=document.querySelector("summary"),jt=document.querySelector(".close-options-button"),pn=document.querySelector(".license"),mn=document.querySelector(".about"),ae=document.querySelector("pinch-zoom"),$e=document.querySelector(".language"),ee=window.devicePixelRatio;ae.addEventListener("change",()=>{const{x:t,y:e,scale:n}=ae;y.setAttribute("transform",`translate(${t}, ${e}) scale(${n})`)});ae.addEventListener("pointerdown",()=>{ae.style.cursor="grabbing"});ae.addEventListener("pointerup",()=>{ae.style.cursor=""});const zt=()=>{y.setAttribute("transform","")},Ie=(t,e)=>{let n;return function(...i){const l=()=>{clearTimeout(n),t(...i)};clearTimeout(n),n=setTimeout(l,e)}},Dt=/Mac|iPhone/.test(navigator.platform);/*!
 * canvas-size
 * v1.2.5
 * https://github.com/jhildenbiddle/canvas-size
 * (c) 2015-2021 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function yt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yt(Object(n),!0).forEach(function(r){gn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fn(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,l;for(l=0;l<r.length;l++)i=r[l],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function vn(t,e){if(t==null)return{};var n=fn(t,e),r,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)r=l[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function bt(t,e){return yn(t)||_n(t,e)||Ht(t,e)||En()}function ye(t){return wn(t)||bn(t)||Ht(t)||Ln()}function wn(t){if(Array.isArray(t))return ct(t)}function yn(t){if(Array.isArray(t))return t}function bn(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _n(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,l=!1,c,a;try{for(n=n.call(t);!(i=(c=n.next()).done)&&(r.push(c.value),!(e&&r.length===e));i=!0);}catch(s){l=!0,a=s}finally{try{!i&&n.return!=null&&n.return()}finally{if(l)throw a}}return r}}function Ht(t,e){if(!!t){if(typeof t=="string")return ct(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ct(t,e)}}function ct(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ln(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function En(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fe(t){var e=t.sizes.shift(),n=Math.max(Math.ceil(e[0]),1),r=Math.max(Math.ceil(e[1]),1),i=[n-1,r-1,1,1],l=Date.now(),c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,a,s;c?(a=new OffscreenCanvas(1,1),s=new OffscreenCanvas(n,r)):(a=document.createElement("canvas"),a.width=1,a.height=1,s=document.createElement("canvas"),s.width=n,s.height=r);var o=a.getContext("2d"),u=s.getContext("2d");u&&(u.fillRect.apply(u,i),o.drawImage(s,n-1,r-1,1,1,0,0,1,1));var h=o&&o.getImageData(0,0,1,1).data[3]!==0,d=Date.now()-l;return c?(postMessage({width:n,height:r,benchmark:d,isTestPass:h}),!h&&t.sizes.length&&fe(t)):h?t.onSuccess(n,r,d):(t.onError(n,r,d),t.sizes.length&&fe(t)),h}var qe={area:[16384,14188,11402,11180,10836,8192,4096,1],height:[8388607,65535,32767,16384,8192,4096,1],width:[4194303,65535,32767,16384,8192,4096,1]},kn=["onError","onSuccess"],te={max:null,min:1,sizes:[],step:1024,usePromise:!1,useWorker:!1,onError:Function.prototype,onSuccess:Function.prototype},ce={};function Ge(t){var e=t.width===t.height,n=t.height===1,r=t.width===1,i=[];if(!t.width||!t.height)t.sizes.forEach(function(u){var h=e||n?u:1,d=e||r?u:1;i.push([h,d])});else for(var l=t.min||te.min,c=t.step||te.step,a=Math.max(t.width,t.height);a>=l;){var s=e||n?a:1,o=e||r?a:1;i.push([s,o]),a-=c}return i}function be(t){var e=window&&"HTMLCanvasElement"in window,n=window&&"OffscreenCanvas"in window,r=Date.now(),i=t.onError,l=t.onSuccess,c=vn(t,kn),a=null;if(!e)return!1;if(t.useWorker&&n){var s=`
            var canvasTest = `.concat(fe.toString(),`;
            onmessage = function(e) {
                canvasTest(e.data);
            };
        `),o=new Blob([s],{type:"application/javascript"}),u=URL.createObjectURL(o);a=new Worker(u),URL.revokeObjectURL(u),a.onmessage=function(h){var d=h.data,g=d.width,E=d.height,V=d.benchmark,U=d.isTestPass;U?(ce[r].onSuccess(g,E,V),delete ce[r]):ce[r].onError(g,E,V)}}if(t.usePromise)return new Promise(function(h,d){var g=C(C({},t),{},{onError:function(K,J,se){var We;if(t.sizes.length===0)We=!0;else{var Qt=t.sizes.slice(-1),en=bt(Qt,1),ft=bt(en[0],2),tn=ft[0],nn=ft[1];We=K===tn&&J===nn}i(K,J,se),We&&d({width:K,height:J,benchmark:se})},onSuccess:function(K,J,se){l(K,J,se),h({width:K,height:J,benchmark:se})}});if(a){var E=g.onError,V=g.onSuccess;ce[r]={onError:E,onSuccess:V},a.postMessage(c)}else fe(g)});if(a)ce[r]={onError:i,onSuccess:l},a.postMessage(c);else return fe(t)}var Sn={maxArea:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=Ge({width:e.max,height:e.max,min:e.min,step:e.step,sizes:ye(qe.area)}),r=C(C(C({},te),e),{},{sizes:n});return be(r)},maxHeight:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=Ge({width:1,height:e.max,min:e.min,step:e.step,sizes:ye(qe.height)}),r=C(C(C({},te),e),{},{sizes:n});return be(r)},maxWidth:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=Ge({width:e.max,height:1,min:e.min,step:e.step,sizes:ye(qe.width)}),r=C(C(C({},te),e),{},{sizes:n});return be(r)},test:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=C(C({},te),e);return n.sizes=ye(n.sizes),n.width&&n.height&&(n.sizes=[[n.width,n.height]]),be(n)}};let Nt,Bt;const Wt="OffscreenCanvas"in window&&"CanvasFilter"in window;if(Wt)p(()=>import("./preprocessworker.6bb03fc8.js"),[]).then(t=>{const e=t.default;let n=null;const r=z.getContext("2d");Nt=async()=>{n&&n.terminate(),n=new e;const i=z.cloneNode().transferControlToOffscreen();return n.postMessage({offscreen:i},[i]),new Promise(async l=>{const{width:c,height:a}=_t();let s;try{s=await createImageBitmap(w)}catch{try{s=await createImageBitmap(w,0,0,c,a)}catch(u){console.error(u.name,u.message),y.innerHTML="",O(u.message);return}}const o=new MessageChannel;o.port1.onmessage=({data:u})=>{o.port1.close(),n&&(n.terminate(),n=null),z.width=c,z.height=a,r.putImageData(u.result,0,0),l(u.result)},n.postMessage({inputImageBitmap:s,posterize:R.checked,rgba:{r:B(v[x.red]),g:B(v[x.green]),b:B(v[x.blue]),a:B(v[x.alpha])},cssFilters:Ut(),rotate:Number(v[we.rotation].value),width:c,height:a,dpr:ee},[o.port2])})}});else{const t=z.getContext("2d",{desynchronized:!0});t.scale(ee,ee),t.imageSmoothingEnabled=!0,Bt=()=>{let{width:e,height:n}=_t();const r=$.checked?ee:1;let i=1;for(;!Sn.test({width:e,height:n});)e=Math.floor(e/2),n=Math.floor(n/2),i/=2;z.width=e,z.height=n,t.clearRect(0,0,e,n),t.filter=Cn(),t.setTransform(1,0,0,1,e/2,n/2);const l=Number(v[we.rotation].value);return t.rotate(l*Math.PI/180),t.drawImage(w,-r*w.naturalWidth*i/2,-r*w.naturalHeight*i/2),t.getImageData(0,0,e,n)}}const _t=()=>{const t=Number(v[we.scale].value)/100;return{width:Math.ceil(ee*w.naturalWidth*t),height:Math.ceil(ee*w.naturalHeight*t)}},B=t=>{const e=Number(t.value),n=[];for(let r=0;r<=e;r++)n[r]=Number((1/e*r).toFixed(1));return n},xn=()=>`data:image/svg+xml;utf8,<svg
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
    >
      <filter id="posterize">
        <feComponentTransfer>
          <feFuncR type="discrete" tableValues="${B(v[x.red]).join(",")}" />
          <feFuncG type="discrete" tableValues="${B(v[x.green]).join(",")}" />
          <feFuncB type="discrete" tableValues="${B(v[x.blue]).join(",")}" />
          <feFuncA type="discrete" tableValues="${B(v[x.alpha])}" />
        </feComponentTransfer>
      </filter>
    </svg>`.replace(/[\r\n]/g,"").replace(/\s+/g," ").trim(),Ut=()=>{let t="";for(const[e,n]of Object.entries(Yt)){const r=v[e];n.initial!==Number(r.value)&&(t+=`${e}(${r.value}${r.dataset.unit}) `)}return t},Cn=()=>{let t=`${R.checked?`url('${xn()}#posterize') `:""}`;return t+=Ut(),t.trim()||"none"};function Pn(){return new Worker("/assets/monochromeworker.ee1cfa6e.js",{type:"module"})}let q=null;const On=async t=>(q&&q.terminate(),q=new Pn,new Promise(async e=>{const n=new MessageChannel;n.port1.onmessage=({data:i})=>{n.port1.close(),q&&(q.terminate(),q=null),e(i.result)};const r={turdsize:Number(v[L.turdsize].value),alphamax:Number(v[L.alphamax].value),turnpolicy:Number(v[L.turnpolicy].value),opttolerance:Number(v[L.opttolerance].value),opticurve:P.checked?1:0,extractcolors:!1};q.postMessage({imageData:t,params:r},[n.port2])}));function Rn(){return new Worker("/assets/colorworker.893f8723.js",{type:"module"})}let G=null;const M={},Tn=async t=>(G&&G.terminate(),G=new Rn,new Promise(async e=>{const n=new MessageChannel;n.port1.onmessage=({data:o})=>{n.port1.close(),G&&(G.terminate(),G=null),e(o.result)},Ae.value=0;let r="",i="",l="",c=0;M.current&&(clearInterval(M.current),M.current=null),M.current=setInterval(()=>{const o=`${r}${l}${i}`;if(o.length!==c){const u=y.dataset.transform;u&&y.setAttribute("transform",u),y.innerHTML=o,c=o.length}},500);const a=new MessageChannel;a.port1.onmessage=({data:o})=>{const u=Math.floor(o.processed/o.total*100);Ae.value=u,o.svg&&(r||(r=o.svg.replace(/(.*?<svg[^>]+>)(.*?)(<\/svg>)/,"$1").replace(/\s+width="\d+(?:\.\d+)?"/,"").replace(/\s+height="\d+(?:\.\d+)"/,""),i=o.svg.replace(/(.*?<svg[^>]+>)(.*?)(<\/svg>)/,"$3")),l+=o.svg.replace(/(.*?<svg[^>]+>)(.*?)(<\/svg>)/,"$2")),o.processed===o.total&&(clearInterval(M.current),M.current=null,a.port1.close(),Ae.value=0)};const s={minPathSegments:Number(v[L.minPathLength].value),strokeWidth:Number(v[L.strokeWidth].value),turdsize:Number(v[L.turdsize].value),alphamax:Number(v[L.alphamax].value),turnpolicy:Number(v[L.turnpolicy].value),opttolerance:Number(v[L.opttolerance].value),opticurve:P.checked?1:0,extractcolors:!1,posterizelevel:2,posterizationalgorithm:0};G.postMessage({imageData:t,params:s},[n.port2,a.port2])}));function An(t){switch(t){case"../i18n/ar-TN.js":return p(()=>import("./ar-TN.f333a3b9.js"),["assets/ar-TN.f333a3b9.js","assets/languages.7cf2e360.js"]);case"../i18n/ca-ES.js":return p(()=>import("./ca-ES.93410033.js"),["assets/ca-ES.93410033.js","assets/languages.7cf2e360.js"]);case"../i18n/da-DK.js":return p(()=>import("./da-DK.26d72918.js"),["assets/da-DK.26d72918.js","assets/languages.7cf2e360.js"]);case"../i18n/de-DE.js":return p(()=>import("./de-DE.77d46b54.js"),["assets/de-DE.77d46b54.js","assets/languages.7cf2e360.js"]);case"../i18n/el-GR.js":return p(()=>import("./el-GR.468ff0cb.js"),["assets/el-GR.468ff0cb.js","assets/languages.7cf2e360.js"]);case"../i18n/en-GB.js":return p(()=>import("./en-GB.34611a76.js"),["assets/en-GB.34611a76.js","assets/languages.7cf2e360.js"]);case"../i18n/en-US.js":return p(()=>import("./en-US.5329e836.js"),["assets/en-US.5329e836.js","assets/languages.7cf2e360.js"]);case"../i18n/es-ES.js":return p(()=>import("./es-ES.ed0aa6e2.js"),["assets/es-ES.ed0aa6e2.js","assets/languages.7cf2e360.js"]);case"../i18n/fr-FR.js":return p(()=>import("./fr-FR.2364238a.js"),["assets/fr-FR.2364238a.js","assets/languages.7cf2e360.js"]);case"../i18n/he-IL.js":return p(()=>import("./he-IL.35452059.js"),["assets/he-IL.35452059.js","assets/languages.7cf2e360.js"]);case"../i18n/id-ID.js":return p(()=>import("./id-ID.97ef26d2.js"),["assets/id-ID.97ef26d2.js","assets/languages.7cf2e360.js"]);case"../i18n/it-IT.js":return p(()=>import("./it-IT.1fe0e462.js"),["assets/it-IT.1fe0e462.js","assets/languages.7cf2e360.js"]);case"../i18n/ja-JP.js":return p(()=>import("./ja-JP.d0648db3.js"),["assets/ja-JP.d0648db3.js","assets/languages.7cf2e360.js"]);case"../i18n/ko-KR.js":return p(()=>import("./ko-KR.8bd6c74c.js"),["assets/ko-KR.8bd6c74c.js","assets/languages.7cf2e360.js"]);case"../i18n/languages.js":return p(()=>import("./languages.7cf2e360.js"),[]);case"../i18n/nl-NL.js":return p(()=>import("./nl-NL.cd713ba6.js"),["assets/nl-NL.cd713ba6.js","assets/languages.7cf2e360.js"]);case"../i18n/no-NO.js":return p(()=>import("./no-NO.76e6345e.js"),["assets/no-NO.76e6345e.js","assets/languages.7cf2e360.js"]);case"../i18n/pl-PL.js":return p(()=>import("./pl-PL.236d5cd9.js"),["assets/pl-PL.236d5cd9.js","assets/languages.7cf2e360.js"]);case"../i18n/pt-BR.js":return p(()=>import("./pt-BR.e9f9a24c.js"),["assets/pt-BR.e9f9a24c.js","assets/languages.7cf2e360.js"]);case"../i18n/ru-RU.js":return p(()=>import("./ru-RU.c8300f26.js"),["assets/ru-RU.c8300f26.js","assets/languages.7cf2e360.js"]);case"../i18n/uk-UA.js":return p(()=>import("./uk-UA.471e6054.js"),["assets/uk-UA.471e6054.js","assets/languages.7cf2e360.js"]);case"../i18n/zh-CN.js":return p(()=>import("./zh-CN.c82a568c.js"),["assets/zh-CN.c82a568c.js","assets/languages.7cf2e360.js"]);default:return new Promise(function(e,n){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+t)))})}}function In(t){switch(t){case"../i18n/ar-TN.js":return p(()=>import("./ar-TN.f333a3b9.js"),["assets/ar-TN.f333a3b9.js","assets/languages.7cf2e360.js"]);case"../i18n/ca-ES.js":return p(()=>import("./ca-ES.93410033.js"),["assets/ca-ES.93410033.js","assets/languages.7cf2e360.js"]);case"../i18n/da-DK.js":return p(()=>import("./da-DK.26d72918.js"),["assets/da-DK.26d72918.js","assets/languages.7cf2e360.js"]);case"../i18n/de-DE.js":return p(()=>import("./de-DE.77d46b54.js"),["assets/de-DE.77d46b54.js","assets/languages.7cf2e360.js"]);case"../i18n/el-GR.js":return p(()=>import("./el-GR.468ff0cb.js"),["assets/el-GR.468ff0cb.js","assets/languages.7cf2e360.js"]);case"../i18n/en-GB.js":return p(()=>import("./en-GB.34611a76.js"),["assets/en-GB.34611a76.js","assets/languages.7cf2e360.js"]);case"../i18n/en-US.js":return p(()=>import("./en-US.5329e836.js"),["assets/en-US.5329e836.js","assets/languages.7cf2e360.js"]);case"../i18n/es-ES.js":return p(()=>import("./es-ES.ed0aa6e2.js"),["assets/es-ES.ed0aa6e2.js","assets/languages.7cf2e360.js"]);case"../i18n/fr-FR.js":return p(()=>import("./fr-FR.2364238a.js"),["assets/fr-FR.2364238a.js","assets/languages.7cf2e360.js"]);case"../i18n/he-IL.js":return p(()=>import("./he-IL.35452059.js"),["assets/he-IL.35452059.js","assets/languages.7cf2e360.js"]);case"../i18n/id-ID.js":return p(()=>import("./id-ID.97ef26d2.js"),["assets/id-ID.97ef26d2.js","assets/languages.7cf2e360.js"]);case"../i18n/it-IT.js":return p(()=>import("./it-IT.1fe0e462.js"),["assets/it-IT.1fe0e462.js","assets/languages.7cf2e360.js"]);case"../i18n/ja-JP.js":return p(()=>import("./ja-JP.d0648db3.js"),["assets/ja-JP.d0648db3.js","assets/languages.7cf2e360.js"]);case"../i18n/ko-KR.js":return p(()=>import("./ko-KR.8bd6c74c.js"),["assets/ko-KR.8bd6c74c.js","assets/languages.7cf2e360.js"]);case"../i18n/languages.js":return p(()=>import("./languages.7cf2e360.js"),[]);case"../i18n/nl-NL.js":return p(()=>import("./nl-NL.cd713ba6.js"),["assets/nl-NL.cd713ba6.js","assets/languages.7cf2e360.js"]);case"../i18n/no-NO.js":return p(()=>import("./no-NO.76e6345e.js"),["assets/no-NO.76e6345e.js","assets/languages.7cf2e360.js"]);case"../i18n/pl-PL.js":return p(()=>import("./pl-PL.236d5cd9.js"),["assets/pl-PL.236d5cd9.js","assets/languages.7cf2e360.js"]);case"../i18n/pt-BR.js":return p(()=>import("./pt-BR.e9f9a24c.js"),["assets/pt-BR.e9f9a24c.js","assets/languages.7cf2e360.js"]);case"../i18n/ru-RU.js":return p(()=>import("./ru-RU.c8300f26.js"),["assets/ru-RU.c8300f26.js","assets/languages.7cf2e360.js"]);case"../i18n/uk-UA.js":return p(()=>import("./uk-UA.471e6054.js"),["assets/uk-UA.471e6054.js","assets/languages.7cf2e360.js"]);case"../i18n/zh-CN.js":return p(()=>import("./zh-CN.c82a568c.js"),["assets/zh-CN.c82a568c.js","assets/languages.7cf2e360.js"]);default:return new Promise(function(e,n){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+t)))})}}const _e="language",Mn=["ar","ca","da","de","el","en","es","fr","he","id","it","ja","ko","nl","no","pl","pt","ru","uk","zh"],$n=["ar-TN","ca-ES","da-DK","de-DE","el-GR","en-GB","en-US","es-ES","fr-FR","he-IL","id-ID","it-IT","ja-JP","ko-KR","nl-NL","no-NO","pl-PL","pt-BR","ru-RU","uk-UA","zh-CN"],Vn=["ar","fa","he","ur"];class jn{constructor(){this.defaultLanguage="en",this.defaultLocale="US",this.translations=null,this.supportedLanguages=Mn,this.supportedLocales=$n,this.currentLanguageAndLocale=this.detectOrRestoreLanguageAndLocale()}findBestMatchingLanguageAndLocale(e,n){return n&&(n=n.toUpperCase()),!e||!this.supportedLanguages.includes(e)?(e=this.defaultLanguage,n=this.defaultLocale):(!n||!this.supportedLocales.includes(`${e}-${n}`))&&(n=this.supportedLocales.find(r=>r.startsWith(`${e}-`)).split("-")[1]),{language:e,locale:n}}detectOrRestoreLanguageAndLocale(){const e=new URL(location),n=e.searchParams,r=n.get("lang");if(r){n.delete("lang"),history.pushState({},"",e);const[o,u=""]=r.split("-"),{language:h,locale:d}=this.findBestMatchingLanguageAndLocale(o,u);return this.setLanguageAndLocale(h,d),{language:h,locale:d}}const i=localStorage.getItem(_e);if(i){const{language:o,locale:u}=JSON.parse(i);return this.setLanguageAndLocale(o,u),{language:o,locale:u}}const[l,c=""]=navigator.language?.split("-"),{language:a,locale:s}=this.findBestMatchingLanguageAndLocale(l,c);return this.setLanguageAndLocale(a,s),{language:a,locale:s}}async setLanguageAndLocale(e,n){this.supportedLanguages.includes(e)||(localStorage.removeItem(_e),e=this.defaultLanguage,n=this.defaultLocale),n&&!this.supportedLocales.includes(`${e}-${n}`)&&(localStorage.removeItem(_e),e=this.defaultLanguage,n=this.defaultLocale),this.currentLanguageAndLocale={language:e,locale:n},localStorage.setItem(_e,JSON.stringify(this.currentLanguageAndLocale)),document.documentElement.lang=`${e}${n?`-${n}`:""}`,Vn.includes(e)?document.documentElement.dir="rtl":document.documentElement.dir="ltr",await this.getTranslations()}async getTranslations(){const{language:e,locale:n}=this.currentLanguageAndLocale;this.translations=(await In(`../i18n/${e}${n?`-${n}`:""}.js`).catch(()=>An(`../i18n/${this.defaultLocale}.js`))).default}t(e){return this.translations[e]||"\u26D4\uFE0F Missing translation"}}const m=new jn;var zn='<svg viewBox="0 0 57 57" xmlns="http://www.w3.org/2000/svg" stroke="currentColor"><g transform="translate(1 1)" stroke-width="2" fill="none" fill-rule="evenodd"><circle cx="5" cy="50" r="5"><animate attributeName="cy" begin="0s" dur="2.2s" values="50;5;50;50" calcMode="linear" repeatCount="indefinite"/><animate attributeName="cx" begin="0s" dur="2.2s" values="5;27;49;5" calcMode="linear" repeatCount="indefinite"/></circle><circle cx="27" cy="5" r="5"><animate attributeName="cy" begin="0s" dur="2.2s" from="5" to="5" values="5;50;50;5" calcMode="linear" repeatCount="indefinite"/><animate attributeName="cx" begin="0s" dur="2.2s" from="27" to="27" values="27;49;5;27" calcMode="linear" repeatCount="indefinite"/></circle><circle cx="49" cy="50" r="5"><animate attributeName="cy" begin="0s" dur="2.2s" values="50;50;5;50" calcMode="linear" repeatCount="indefinite"/><animate attributeName="cx" from="49" to="49" begin="0s" dur="2.2s" values="49;5;27;49" calcMode="linear" repeatCount="indefinite"/></circle></g></svg>';const Lt=(t,e)=>{!t||(t=t.replace(/\s+width="\d+(?:\.\d+)?"/,"").replace(/\s+height="\d+(?:\.\d+)"/,""),y.classList.remove(je),y.classList.remove(ze),y.classList.add(e),y.innerHTML=t,O(`${m.t("svgSize")}: ${t.length} ${m.t("bytes")}`,3e3))},A=async()=>{y.innerHTML="",y.classList.remove(je,ze),M.current&&(clearInterval(M.current),M.current=null);const t=y.getAttribute("transform");y.innerHTML=zn,t&&(y.dataset.transform=t,y.setAttribute("transform",""));const e=Wt?await Nt():Bt();if(k.checked){const n=await Tn(e);t&&y.setAttribute("transform",t),Lt(n,je)}else{const n=await On(e);t&&y.setAttribute("transform",t),Lt(n,ze)}},oe=(()=>{if(typeof self>"u")return!1;if("top"in self&&self!==top)try{}catch{return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1})(),Dn=oe?import("./file-open-002ab408.765c6085.js"):import("./file-open-7c801643.29b1b007.js");async function Hn(...t){return(await Dn).default(...t)}oe?import("./directory-open-4ed118d0.aa92a661.js"):import("./directory-open-01563666.e6734452.js");const Nn=oe?import("./file-save-d9ee8673.dfa65d8e.js"):import("./file-save-ec715f9d.c1848d74.js");async function Bn(...t){return(await Nn).default(...t)}function Wn(){return new Worker("/assets/svgoworker.656cd216.js",{type:"module"})}let F=null;const Me=async t=>(F&&F.terminate(),F=new Wn,new Promise(e=>{const n=new MessageChannel;n.port1.onmessage=({data:r})=>{n.port1.close(),F&&(F.terminate(),F=null),e(r.result)},F.postMessage({svg:t},[n.port2])}));function Un(){var t=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!t||!indexedDB.databases)return Promise.resolve();var e;return new Promise(function(n){var r=function(){return indexedDB.databases().finally(n)};e=setInterval(r,100),r()}).finally(function(){return clearInterval(e)})}function Ne(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function qn(t,e){const n=Un().then(()=>{const r=indexedDB.open(t);return r.onupgradeneeded=()=>r.result.createObjectStore(e),Ne(r)});return(r,i)=>n.then(l=>i(l.transaction(e,r).objectStore(e)))}let Fe;function dt(){return Fe||(Fe=qn("keyval-store","keyval")),Fe}function re(t,e=dt()){return e("readonly",n=>Ne(n.get(t)))}function W(t,e,n=dt()){return n("readwrite",r=>(r.put(e,t),Ne(r.transaction)))}function Gn(t,e=dt()){return e("readwrite",n=>(n.delete(t),Ne(n.transaction)))}const ve="fileHandle",Fn=t=>t?t.name.replace(/\.[^\.]+$/,""):"";xe.addEventListener("click",async()=>{try{const t=await Hn({mimeTypes:["image/*"],description:"Image files"}),e=URL.createObjectURL(t);w.addEventListener("load",()=>{URL.revokeObjectURL(e)},{once:!0}),w.src=e,oe&&await W(ve,t.handle)}catch(t){console.error(t.name,t.message),O(t.message)}});document.addEventListener("dragover",t=>{t.preventDefault()});document.addEventListener("dragenter",t=>{t.preventDefault(),He.classList.add("dropenter")});document.addEventListener("dragleave",t=>{t.preventDefault(),t.target===document.documentElement&&He.classList.remove("dropenter")});document.addEventListener("drop",async t=>{t.preventDefault(),t.stopPropagation(),He.classList.remove("dropenter");const e=t.dataTransfer.items[0];if(e.kind==="file"){let n;if(w.addEventListener("load",()=>{URL.revokeObjectURL(n)},{once:!0}),oe){const i=await e.getAsFileSystemHandle();if(i.kind!=="file")return;const l=await i.getFile();n=URL.createObjectURL(l),w.src=n,await W(ve,i);return}const r=e.getAsFile();n=URL.createObjectURL(r),w.src=n}});Ce.addEventListener("click",async()=>{try{let t="",e=y.innerHTML,n=null;oe&&(t=Fn(await re(ve)),n=await showSaveFilePicker({suggestedName:t,types:[{description:"SVG file",accept:{"image/svg+xml":[".svg"]}}]})),O(m.t("optimizingSVG"),1/0),e=await Me(e),O(m.t("savedSVG"));const r=new Blob([e],{type:"image/svg+xml"});await Bn(r,{fileName:t,description:"SVG file"},n)}catch(t){console.error(t.name,t.message),O(t.message)}});Re.addEventListener("click",async()=>{try{const t=await navigator.clipboard.read();for(const e of t)for(const n of e.types)if(n.startsWith("image/")){const r=await e.getType(n);if(!r)return;const i=URL.createObjectURL(r);w.src=i;return}}catch(t){console.error(t.name,t.message),O(t.message)}});document.addEventListener("paste",t=>{try{if(!t.clipboardData.files.length)return;const e=t.clipboardData.files[0];if(e.type.startsWith("image/")){const n=URL.createObjectURL(e);w.src=n;return}}catch(e){console.error(e.name,e.message),O(e.message)}});Pe.addEventListener("click",async()=>{let t=y.innerHTML;O(m.t("optimizingSVG"),1/0);try{"ClipboardItem"in window?Dt?await navigator.clipboard.write([new ClipboardItem({"text/plain":new Promise(async e=>{e(new Blob([t],{type:"text/plain"}))})})]):(t=await Me(t),await navigator.clipboard.write([new ClipboardItem({"text/plain":new Promise(async e=>{e(new Blob([t],{type:"text/plain"}))}),"image/svg+xml":new Promise(async e=>{e(new Blob([t],{type:"image/svg+xml"}))})})])):await navigator.clipboard.writeText(await Me(t))}catch{t=await Me(t);const n=new Blob([t],{type:"text/plain"}),r=new Blob([t],{type:"image/svg+xml"});try{Number(navigator.userAgent.replace(/.*Chrome\/(\d+).*/,"$1"))<=88?await navigator.clipboard.write([new ClipboardItem({[n.type]:n})]):await navigator.clipboard.write([new ClipboardItem({[r.type]:r,[n.type]:n})])}catch{try{await navigator.clipboard.write([new ClipboardItem({[n.type]:n})])}catch(l){O(l.message);return}}}O(m.t("copiedSVG"))});class N{constructor(e){this.id=-1,this.nativePointer=e,this.pageX=e.pageX,this.pageY=e.pageY,this.clientX=e.clientX,this.clientY=e.clientY,self.Touch&&e instanceof Touch?this.id=e.identifier:he(e)&&(this.id=e.pointerId)}getCoalesced(){if("getCoalescedEvents"in this.nativePointer){const e=this.nativePointer.getCoalescedEvents().map(n=>new N(n));if(e.length>0)return e}return[this]}}const he=t=>"pointerId"in t,Ye=t=>"changedTouches"in t,Et=()=>{};class Yn{constructor(e,{start:n=()=>!0,move:r=Et,end:i=Et,rawUpdates:l=!1,avoidPointerEvents:c=!1}={}){this._element=e,this.startPointers=[],this.currentPointers=[],this._excludeFromButtonsCheck=new Set,this._pointerStart=a=>{if(he(a)&&a.buttons===0)this._excludeFromButtonsCheck.add(a.pointerId);else if(!(a.buttons&1))return;const s=new N(a);this.currentPointers.some(o=>o.id===s.id)||!this._triggerPointerStart(s,a)||(he(a)?((a.target&&"setPointerCapture"in a.target?a.target:this._element).setPointerCapture(a.pointerId),this._element.addEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.addEventListener("pointerup",this._pointerEnd),this._element.addEventListener("pointercancel",this._pointerEnd)):(window.addEventListener("mousemove",this._move),window.addEventListener("mouseup",this._pointerEnd)))},this._touchStart=a=>{for(const s of Array.from(a.changedTouches))this._triggerPointerStart(new N(s),a)},this._move=a=>{if(!Ye(a)&&(!he(a)||!this._excludeFromButtonsCheck.has(a.pointerId))&&a.buttons===0){this._pointerEnd(a);return}const s=this.currentPointers.slice(),o=Ye(a)?Array.from(a.changedTouches).map(h=>new N(h)):[new N(a)],u=[];for(const h of o){const d=this.currentPointers.findIndex(g=>g.id===h.id);d!==-1&&(u.push(h),this.currentPointers[d]=h)}u.length!==0&&this._moveCallback(s,u,a)},this._triggerPointerEnd=(a,s)=>{if(!Ye(s)&&s.buttons&1)return!1;const o=this.currentPointers.findIndex(h=>h.id===a.id);if(o===-1)return!1;this.currentPointers.splice(o,1),this.startPointers.splice(o,1),this._excludeFromButtonsCheck.delete(a.id);const u=!(s.type==="mouseup"||s.type==="touchend"||s.type==="pointerup");return this._endCallback(a,s,u),!0},this._pointerEnd=a=>{if(!!this._triggerPointerEnd(new N(a),a))if(he(a)){if(this.currentPointers.length)return;this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd)}else window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)},this._touchEnd=a=>{for(const s of Array.from(a.changedTouches))this._triggerPointerEnd(new N(s),a)},this._startCallback=n,this._moveCallback=r,this._endCallback=i,this._rawUpdates=l&&"onpointerrawupdate"in window,self.PointerEvent&&!c?this._element.addEventListener("pointerdown",this._pointerStart):(this._element.addEventListener("mousedown",this._pointerStart),this._element.addEventListener("touchstart",this._touchStart),this._element.addEventListener("touchmove",this._move),this._element.addEventListener("touchend",this._touchEnd),this._element.addEventListener("touchcancel",this._touchEnd))}stop(){this._element.removeEventListener("pointerdown",this._pointerStart),this._element.removeEventListener("mousedown",this._pointerStart),this._element.removeEventListener("touchstart",this._touchStart),this._element.removeEventListener("touchmove",this._move),this._element.removeEventListener("touchend",this._touchEnd),this._element.removeEventListener("touchcancel",this._touchEnd),this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd),window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)}_triggerPointerStart(e,n){return this._startCallback(e,n)?(this.currentPointers.push(e),this.startPointers.push(e),!0):!1}}function Xn(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(!t||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var Kn=`pinch-zoom {
  display: block;
  overflow: hidden;
  touch-action: none;
  --scale: 1;
  --x: 0;
  --y: 0;
}

pinch-zoom > * {
  transform: translate(var(--x), var(--y)) scale(var(--scale));
  transform-origin: 0 0;
  will-change: transform;
}
`;Xn(Kn);const Le="min-scale";function kt(t,e){return e?Math.sqrt((e.clientX-t.clientX)**2+(e.clientY-t.clientY)**2):0}function St(t,e){return e?{clientX:(t.clientX+e.clientX)/2,clientY:(t.clientY+e.clientY)/2}:t}function xt(t,e){return typeof t=="number"?t:t.trimRight().endsWith("%")?e*parseFloat(t)/100:parseFloat(t)}let Ct;function qt(){return Ct||(Ct=document.createElementNS("http://www.w3.org/2000/svg","svg"))}function Xe(){return qt().createSVGMatrix()}function Pt(){return qt().createSVGPoint()}const Ke=.01;class Jn extends HTMLElement{constructor(){super();this._transform=Xe(),new MutationObserver(()=>this._stageElChange()).observe(this,{childList:!0});const e=new Yn(this,{start:(n,r)=>e.currentPointers.length===2||!this._positioningEl?!1:(r.preventDefault(),!0),move:n=>{this._onPointerMove(n,e.currentPointers)}});this.addEventListener("wheel",n=>this._onWheel(n))}static get observedAttributes(){return[Le]}attributeChangedCallback(e,n,r){e===Le&&this.scale<this.minScale&&this.setTransform({scale:this.minScale})}get minScale(){const e=this.getAttribute(Le);if(!e)return Ke;const n=parseFloat(e);return Number.isFinite(n)?Math.max(Ke,n):Ke}set minScale(e){this.setAttribute(Le,String(e))}connectedCallback(){this._stageElChange()}get x(){return this._transform.e}get y(){return this._transform.f}get scale(){return this._transform.a}scaleTo(e,n={}){let{originX:r=0,originY:i=0}=n;const{relativeTo:l="content",allowChangeEvent:c=!1}=n,a=l==="content"?this._positioningEl:this;if(!a||!this._positioningEl){this.setTransform({scale:e,allowChangeEvent:c});return}const s=a.getBoundingClientRect();if(r=xt(r,s.width),i=xt(i,s.height),l==="content")r+=this.x,i+=this.y;else{const o=this._positioningEl.getBoundingClientRect();r-=o.left,i-=o.top}this._applyChange({allowChangeEvent:c,originX:r,originY:i,scaleDiff:e/this.scale})}setTransform(e={}){const{scale:n=this.scale,allowChangeEvent:r=!1}=e;let{x:i=this.x,y:l=this.y}=e;if(!this._positioningEl){this._updateTransform(n,i,l,r);return}const c=this.getBoundingClientRect(),a=this._positioningEl.getBoundingClientRect();if(!c.width||!c.height){this._updateTransform(n,i,l,r);return}let s=Pt();s.x=a.left-c.left,s.y=a.top-c.top;let o=Pt();o.x=a.width+s.x,o.y=a.height+s.y;const u=Xe().translate(i,l).scale(n).multiply(this._transform.inverse());s=s.matrixTransform(u),o=o.matrixTransform(u),s.x>c.width?i+=c.width-s.x:o.x<0&&(i+=-o.x),s.y>c.height?l+=c.height-s.y:o.y<0&&(l+=-o.y),this._updateTransform(n,i,l,r)}_updateTransform(e,n,r,i){if(!(e<this.minScale)&&!(e===this.scale&&n===this.x&&r===this.y)&&(this._transform.e=n,this._transform.f=r,this._transform.d=this._transform.a=e,this.style.setProperty("--x",this.x+"px"),this.style.setProperty("--y",this.y+"px"),this.style.setProperty("--scale",this.scale+""),i)){const l=new Event("change",{bubbles:!0});this.dispatchEvent(l)}}_stageElChange(){this._positioningEl=void 0,this.children.length!==0&&(this._positioningEl=this.children[0],this.children.length>1&&console.warn("<pinch-zoom> must not have more than one child."),this.setTransform({allowChangeEvent:!0}))}_onWheel(e){if(!this._positioningEl)return;e.preventDefault();const n=this._positioningEl.getBoundingClientRect();let{deltaY:r}=e;const{ctrlKey:i,deltaMode:l}=e;l===1&&(r*=15);const a=1-r/(i?100:300);this._applyChange({scaleDiff:a,originX:e.clientX-n.left,originY:e.clientY-n.top,allowChangeEvent:!0})}_onPointerMove(e,n){if(!this._positioningEl)return;const r=this._positioningEl.getBoundingClientRect(),i=St(e[0],e[1]),l=St(n[0],n[1]),c=i.clientX-r.left,a=i.clientY-r.top,s=kt(e[0],e[1]),o=kt(n[0],n[1]),u=s?o/s:1;this._applyChange({originX:c,originY:a,scaleDiff:u,panX:l.clientX-i.clientX,panY:l.clientY-i.clientY,allowChangeEvent:!0})}_applyChange(e={}){const{panX:n=0,panY:r=0,originX:i=0,originY:l=0,scaleDiff:c=1,allowChangeEvent:a=!1}=e,s=Xe().translate(n,r).translate(i,l).translate(this.x,this.y).scale(c).translate(-i,-l).scale(this.scale);this.setTransform({allowChangeEvent:a,scale:s.a,x:s.e,y:s.f})}}customElements.define("pinch-zoom",Jn);// @license © 2019 Google LLC. Licensed under the Apache License, Version 2.0.
const pe=document,le=localStorage,Ve="prefers-color-scheme",Ee="media",b="light",S="dark",Ot=`(${Ve}:${S})`,Zn=`(${Ve}:${b})`,Rt="link[rel=stylesheet]",Je="remember",Ze="legend",ke="toggle",Tt="switch",Qe="appearance",et="permanent",tt="mode",ue="colorschemechange",nt="permanentcolorscheme",At="all",rt="not all",f="dark-mode-toggle",ne="https://googlechromelabs.github.io/dark-mode-toggle/demo/",Z=(t,e,n=e)=>{Object.defineProperty(t,n,{enumerable:!0,get(){const r=this.getAttribute(e);return r===null?"":r},set(r){this.setAttribute(e,r)}})},Qn=(t,e,n=e)=>{Object.defineProperty(t,n,{enumerable:!0,get(){return this.hasAttribute(e)},set(r){r?this.setAttribute(e,""):this.removeAttribute(e)}})},Gt=pe.createElement("template");Gt.innerHTML=`<style>*,::after,::before{box-sizing:border-box}:host{contain:content;display:block}:host([hidden]){display:none}form{background-color:var(--${f}-background-color,transparent);color:var(--${f}-color,inherit);padding:0}fieldset{border:none;margin:0;padding-block:.25rem;padding-inline:.25rem}legend{font:var(--${f}-legend-font,inherit);padding:0}input,label{cursor:pointer}label{white-space:nowrap}input{opacity:0;position:absolute;pointer-events:none}input:focus-visible+label{outline:#e59700 auto 2px;outline:-webkit-focus-ring-color auto 5px}label:not(:empty)::before{margin-inline-end:.5rem;}label::before{content:"";display:inline-block;background-size:var(--${f}-icon-size,1rem);background-repeat:no-repeat;height:var(--${f}-icon-size,1rem);width:var(--${f}-icon-size,1rem);vertical-align:middle;}[part=lightLabel]::before{background-image:var(--${f}-light-icon, url("${ne}sun.png"))}[part=darkLabel]::before{filter:var(--${f}-icon-filter, none);background-image:var(--${f}-dark-icon, url("${ne}moon.png"))}[part=toggleLabel]::before{background-image:var(--${f}-checkbox-icon,none)}[part=permanentLabel]::before{background-image:var(--${f}-remember-icon-unchecked, url("${ne}unchecked.svg"))}[part=darkLabel],[part=lightLabel],[part=toggleLabel]{font:var(--${f}-label-font,inherit)}[part=darkLabel]:empty,[part=lightLabel]:empty,[part=toggleLabel]:empty{font-size:0;padding:0}[part=permanentLabel]{font:var(--${f}-remember-font,inherit)}input:checked+[part=permanentLabel]::before{background-image:var(--${f}-remember-icon-checked, url("${ne}checked.svg"))}input:checked+[part=darkLabel],input:checked+[part=lightLabel]{background-color:var(--${f}-active-mode-background-color,transparent)}input:checked+[part=darkLabel]::before,input:checked+[part=lightLabel]::before{background-color:var(--${f}-active-mode-background-color,transparent)}input:checked+[part=toggleLabel]::before{filter:var(--${f}-icon-filter, none)}input:checked+[part=toggleLabel]+aside [part=permanentLabel]::before{filter:var(--${f}-remember-filter, invert(100%))}aside{visibility:hidden;margin-block-start:.15rem}[part=darkLabel]:focus-visible~aside,[part=lightLabel]:focus-visible~aside,[part=toggleLabel]:focus-visible~aside{visibility:visible;transition:visibility 0s}aside [part=permanentLabel]:empty{display:none}@media (hover:hover){aside{transition:visibility 3s}aside:hover{visibility:visible}[part=darkLabel]:hover~aside,[part=lightLabel]:hover~aside,[part=toggleLabel]:hover~aside{visibility:visible;transition:visibility 0s}}</style><form part=form><fieldset part=fieldset><legend part=legend></legend><input part=lightRadio id=l name=mode type=radio><label part=lightLabel for=l></label><input part=darkRadio id=d name=mode type=radio><label part=darkLabel for=d></label><input part=toggleCheckbox id=t type=checkbox><label part=toggleLabel for=t></label><aside part=aside><input part=permanentCheckbox id=p type=checkbox><label part=permanentLabel for=p></label></aside></fieldset></form>`;class er extends HTMLElement{static get observedAttributes(){return[tt,Qe,et,Ze,b,S,Je]}constructor(){super();Z(this,tt),Z(this,Qe),Z(this,Ze),Z(this,b),Z(this,S),Z(this,Je),Qn(this,et),this.t=null,this.i=null,pe.addEventListener(ue,e=>{this.mode=e.detail.colorScheme,this.o(),this.l()}),pe.addEventListener(nt,e=>{this.permanent=e.detail.permanent,this.h.checked=this.permanent}),this.p()}p(){const e=this.attachShadow({mode:"open"});e.appendChild(Gt.content.cloneNode(!0)),this.t=pe.querySelectorAll(`${Rt}[${Ee}*=${Ve}][${Ee}*="${S}"]`),this.i=pe.querySelectorAll(`${Rt}[${Ee}*=${Ve}][${Ee}*="${b}"]`),this.g=e.querySelector("[part=lightRadio]"),this.m=e.querySelector("[part=lightLabel]"),this.u=e.querySelector("[part=darkRadio]"),this.k=e.querySelector("[part=darkLabel]"),this.v=e.querySelector("[part=toggleCheckbox]"),this.$=e.querySelector("[part=toggleLabel]"),this.L=e.querySelector("legend"),this.M=e.querySelector("aside"),this.h=e.querySelector("[part=permanentCheckbox]"),this.C=e.querySelector("[part=permanentLabel]");const n=matchMedia(Ot).media!==rt;n&&matchMedia(Ot).addListener(({matches:i})=>{this.mode=i?S:b,this.R(ue,{colorScheme:this.mode})});const r=le.getItem(f);r&&[S,b].includes(r)?(this.mode=r,this.h.checked=!0,this.permanent=!0):n&&(this.mode=matchMedia(Zn).matches?b:S),this.mode||(this.mode=b),this.permanent&&!r&&le.setItem(f,this.mode),this.appearance||(this.appearance=ke),this._(),this.o(),this.l(),[this.g,this.u].forEach(i=>{i.addEventListener("change",()=>{this.mode=this.g.checked?b:S,this.l(),this.R(ue,{colorScheme:this.mode})})}),this.v.addEventListener("change",()=>{this.mode=this.v.checked?S:b,this.o(),this.R(ue,{colorScheme:this.mode})}),this.h.addEventListener("change",()=>{this.permanent=this.h.checked,this.R(nt,{permanent:this.permanent})}),this.A(),this.R(ue,{colorScheme:this.mode}),this.R(nt,{permanent:this.permanent})}attributeChangedCallback(e,n,r){if(e===tt){if(![b,S].includes(r))throw new RangeError(`Allowed values: "${b}" and "${S}".`);matchMedia("(hover:none)").matches&&this.remember&&this.S(),this.permanent&&le.setItem(f,this.mode),this.o(),this.l(),this.A()}else if(e===Qe){if(![ke,Tt].includes(r))throw new RangeError(`Allowed values: "${ke}" and "${Tt}".`);this._()}else e===et?(this.permanent?le.setItem(f,this.mode):le.removeItem(f),this.h.checked=this.permanent):e===Ze?this.L.textContent=r:e===Je?this.C.textContent=r:e===b?(this.m.textContent=r,this.mode===b&&(this.$.textContent=r)):e===S&&(this.k.textContent=r,this.mode===S&&(this.$.textContent=r))}R(e,n){this.dispatchEvent(new CustomEvent(e,{bubbles:!0,composed:!0,detail:n}))}_(){const e=this.appearance===ke;this.g.hidden=e,this.m.hidden=e,this.u.hidden=e,this.k.hidden=e,this.v.hidden=!e,this.$.hidden=!e}o(){this.mode===b?this.g.checked=!0:this.u.checked=!0}l(){this.mode===b?(this.$.style.setProperty(`--${f}-checkbox-icon`,`var(--${f}-light-icon,url("${ne}moon.png"))`),this.$.textContent=this.light,this.light||(this.$.ariaLabel=S),this.v.checked=!1):(this.$.style.setProperty(`--${f}-checkbox-icon`,`var(--${f}-dark-icon,url("${ne}sun.png"))`),this.$.textContent=this.dark,this.dark||(this.$.ariaLabel=b),this.v.checked=!0)}A(){this.mode===b?(this.i.forEach(e=>{e.media=At,e.disabled=!1}),this.t.forEach(e=>{e.media=rt,e.disabled=!0})):(this.t.forEach(e=>{e.media=At,e.disabled=!1}),this.i.forEach(e=>{e.media=rt,e.disabled=!0}))}S(){this.M.style.visibility="visible",setTimeout(()=>{this.M.style.visibility="hidden"},3e3)}}customElements.define(f,er);var tr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z"/></svg>',nr='<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><rect fill="none" height="24" width="24"/></g><g><g><path d="M17.66,17.66l-1.06,1.06l-0.71-0.71l1.06-1.06l-1.94-1.94l-1.06,1.06l-0.71-0.71l1.06-1.06l-1.94-1.94l-1.06,1.06 l-0.71-0.71l1.06-1.06L9.7,9.7l-1.06,1.06l-0.71-0.71l1.06-1.06L7.05,7.05L5.99,8.11L5.28,7.4l1.06-1.06L4,4v14c0,1.1,0.9,2,2,2 h14L17.66,17.66z M7,17v-5.76L12.76,17H7z"/></g></g></svg>',rr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M15.96 10.29l-2.75 3.54-1.96-2.36L8.5 15h11l-3.54-4.71zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"/></svg>',ir='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"/></svg>',ar='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"/></svg>',or='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"/></svg>',sr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>',cr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z"/></svg>',lr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z"/></svg>',ur='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/></svg>',dr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"/></svg>',hr='<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><rect fill="none" height="24" width="24"/></g><g><g><path d="M20,17H4V5h8V3H4C2.89,3,2,3.89,2,5v12c0,1.1,0.89,2,2,2h4v2h8v-2h4c1.1,0,2-0.9,2-2v-3h-2V17z"/><polygon points="17,14 22,9 20.59,7.59 18,10.17 18,3 16,3 16,10.17 13.41,7.59 12,9"/></g></g></svg>';const ht="monochromeSettings",pt="colorSettings",je="color",ze="monochrome",D="%",Ft="deg",me="steps",It="pixels",lt="",pr="segments",j={brightness:"brightness",contrast:"contrast",grayscale:"grayscale",hueRotate:"hue-rotate",invert:"invert",opacity:"opacity",saturate:"saturate",sepia:"sepia"},x={red:"red",green:"green",blue:"blue",alpha:"alpha"},we={scale:"scale",rotation:"rotation"},L={minPathLength:"minPathSegments",strokeWidth:"strokeWidth",turdsize:"turdsize",alphamax:"alphamax",turnpolicy:"turnpolicy",opticurve:"opticurve",opttolerance:"opttolerance"},Yt={[j.brightness]:{unit:D,initial:100,min:0,max:200},[j.contrast]:{unit:D,initial:100,min:0,max:200},[j.grayscale]:{unit:D,initial:0,min:0,max:100},[j.hueRotate]:{unit:Ft,initial:0,min:0,max:360},[j.invert]:{unit:D,initial:0,min:0,max:100},[j.opacity]:{unit:D,initial:100,min:0,max:100},[j.saturate]:{unit:D,initial:100,min:0,max:200},[j.sepia]:{unit:D,initial:0,min:0,max:100}},mr={[x.red]:{unit:me,initial:5,min:1,max:20},[x.green]:{unit:me,initial:5,min:1,max:20},[x.blue]:{unit:me,initial:5,min:1,max:20},[x.alpha]:{unit:me,initial:1,min:1,max:10}},gr={[we.scale]:{unit:D,initial:100,min:1,max:200},[we.rotation]:{unit:Ft,initial:0,min:0,max:360}},fr={[L.turdsize]:{unit:It,initial:2,min:0,max:50},[L.strokeWidth]:{unit:It,initial:0,min:0,max:100},[L.minPathLength]:{unit:pr,initial:0,min:0,max:30},[L.alphamax]:{unit:lt,initial:1,min:0,max:1.3334},[L.turnpolicy]:{unit:me,initial:4,min:0,max:6},[L.opttolerance]:{unit:lt,initial:.2,min:0,max:1}},vr=[{name:"svgOptions",icon:ir},{name:"colorChannels",icon:tr},{name:"imageSizeAndRotation",icon:nr},{name:"imagePreprocessing",icon:rr}],mt=[Object.entries(fr),Object.entries(mr),Object.entries(gr),Object.entries(Yt)],v={},De={},I={},ie=(t,e)=>{const n=m.t(t);return` (${t?`${e}${n.length===1?n:` ${n}`}`:e})`},H=t=>{const e=document.createElement("span");return e.classList.add("icon"),e.innerHTML=t,e},wr=(t,e)=>{const n=document.createElement("details");I[t]=n;const r=document.createElement("summary"),i=H(e);r.append(i);const l=document.createElement("span");return l.textContent=m.t(t),l.dataset.i18nKey=t,r.append(l),n.append(r),n},yr=["alphamax","turnpolicy","optimize-curves","opttolerance","minPathSegments"],br=async(t,e,n)=>{const{unit:r,min:i,max:l,initial:c}=e,a=document.createElement("div");a.classList.add("preprocess-input"),yr.includes(t)&&a.classList.add("advanced");const s=document.createElement("label"),o=document.createElement("span");o.textContent=m.t(t),o.dataset.i18nKey=t,s.append(o),s.htmlFor=t;const u=await Be(),h=document.createElement("span");De[t]=h,h.textContent=ie(r,u[t]||c),h.dataset.dynamicI18nKey=r,h.dataset.dynamicValue=u[t]||c;const d=document.createElement("input");v[t]=d,d.id=t,d.type="range",d.class=t,r&&(d.dataset.unit=r),r===lt&&(d.step=.01),d.min=i,d.max=l,d.value=u[t]||c,d.addEventListener("input",()=>{h.textContent=ie(r,d.value),h.dataset.dynamicValue=d.value}),Object.keys(x).includes(t)?d.addEventListener("change",Ie(async()=>{await X(d),await A()},250)):Object.keys(L).includes(t)?d.addEventListener("change",Ie(async()=>{await X(d),await A()},250)):d.addEventListener("change",Ie(async()=>{await X(d),await A()},250));const g=document.createElement("button");g.type="button",g.textContent=m.t("reset"),g.dataset.i18nKey="reset",g.addEventListener("click",async()=>{d.value=c,h.textContent=ie(r,c),h.dataset.dynamicValue=c,d.dispatchEvent(new Event("change"))}),s.append(h),a.append(s);const E=document.createElement("div");a.append(E),E.append(d),E.append(g),n.append(a)},Xt=()=>{const t=!R.checked;Object.keys(x).forEach(e=>{v[e].disabled=t})};R.addEventListener("change",async()=>{Xt(),await X(R),await A()});const gt=async()=>{const t=await Be();R.checked=t[R.id]??R.defaultChecked,Xt(),$.checked=t[$.id]??$.defaultChecked,P.checked=t[P.id]??P.defaultChecked,Kt(),Y.checked=t[Y.id]??Y.defaultChecked,Zt(),mt.forEach(e=>{for(const[n,r]of e){const i=t[v[n].id]||r.initial;v[n].value=i,De[n].textContent=ie(r.unit,i)}})};k.addEventListener("change",async()=>{await W(k.id,k.checked),await W(T.id,T.checked),await gt(),await A()});T.addEventListener("change",async()=>{await W(k.id,k.checked),await W(T.id,T.checked),await gt(),await A()});$.addEventListener("change",async()=>{await X($),await A()});const Kt=()=>{v.opttolerance.disabled=!P.checked};P.addEventListener("change",async()=>{Kt(),await X(P),await A()});ge.addEventListener("input",()=>{z.classList.toggle("debug",ge.checked)});const _r=async()=>{await m.getTranslations(),Jt();const t=getComputedStyle(document.documentElement).getPropertyValue("--mobile-breakpoint"),e=window.matchMedia(`(max-width: ${t})`),n=()=>{if(e.matches){st.open=!1;return}st.open=!0};n(),e.addEventListener("change",n),k.checked=await re(k.id)??k.defaultChecked,T.checked=await re(T.id)??T.defaultChecked,k.checked&&y.classList.add(je),T.checked&&y.classList.add(ze);const r=[];mt.forEach(async(c,a)=>{const{name:s,icon:o}=vr[a],u=wr(s,o);wt.append(u),a<2&&(u.open=!0),s==="colorChannels"?I.colorChannels.append(R.parentNode):s==="svgOptions"?(I.svgOptions.append(k.parentNode),I.svgOptions.append(T.parentNode)):s==="imageSizeAndRotation"&&I.imageSizeAndRotation.append($.parentNode);for(const[h,d]of c)r.push(br(h,d,u));Promise.all(r).then(async()=>{for(const[h]of c){if(h==="opttolerance"){const d=I.svgOptions.querySelector('[for="opttolerance"]').parentNode;I.svgOptions.insertBefore(P.parentNode,d)}if(s==="svgOptions"){const d=I.svgOptions.querySelector(".preprocess-input.advanced");I.svgOptions.insertBefore(Y.parentNode,d)}}await gt()})}),wt.append(ut.parentNode),w.addEventListener("load",async()=>{w.width=w.naturalWidth,w.height=w.naturalHeight;const c=await Be();if(w.src!==new URL("/favicon.png",location.href).toString()||Object.keys(c).length>1)setTimeout(async()=>{zt(),await A()},100);else{const a=await fetch(`/potraced-${k.checked?"color":"monochrome"}.svg`).then(s=>s.text());y.innerHTML=a}}),w.complete&&w.dispatchEvent(new Event("load")),Ae.hidden=!1,new URL(location).searchParams.has("debug")&&(ge.checked=!0,ge.labels[0].hidden=!1,ge.dispatchEvent(new Event("input")));try{const c=await re(ve);if(c&&await Lr(c)){const a=await c.getFile(),s=URL.createObjectURL(a);w.src=s}}catch(c){console.error(c.name,c.message),await Gn(ve)}},Lr=async t=>{const e={mode:"read"};return await t.queryPermission(e)==="granted"||await t.requestPermission(e)==="granted"},Jt=()=>{pn.textContent=m.t("license"),mn.textContent=m.t("about"),ut.textContent=m.t("resetAll"),sn.textContent=m.t("posterizeInputImage"),cn.textContent=m.t("colorSVG"),ln.textContent=m.t("monochromeSVG"),un.textContent=m.t("considerDPR"),dn.textContent=m.t("opticurve"),hn.textContent=m.t("showAdvancedControls"),xe.innerHTML="",xe.append(H(ar));const t=document.createElement("span");t.textContent=m.t("openImage"),xe.append(t),Ce.innerHTML="",Ce.append(H(or));const e=document.createElement("span");e.textContent=m.t("saveSVG"),Ce.append(e),Oe.innerHTML="",Oe.append(H(Dt?lr:ur));const n=document.createElement("span");n.textContent=m.t("shareSVG"),Oe.append(n),Pe.innerHTML="",Pe.append(H(sr));const r=document.createElement("span");r.textContent=m.t("copySVG"),Pe.append(r),Re.innerHTML="",Re.append(H(cr));const i=document.createElement("span");i.textContent=m.t("pasteImage"),Re.append(i),Te.innerHTML="",Te.append(H(hr));const l=document.createElement("span");l.textContent=m.t("install"),Te.append(l),He.dataset.dropText=m.t("dropFileHere"),Ue.innerHTML="",Ue.append(H(dr)),Ue.append(document.createTextNode(m.t("tweak"))),jt.ariaLabel=m.t("closeOptions"),document.querySelectorAll("[data-i18n-key]").forEach(c=>{c.textContent=m.t(c.dataset.i18nKey)}),document.querySelectorAll("[data-dynamic-i18n-key]").forEach(c=>{c.textContent=ie(c.dataset.dynamicI18nKey,c.dataset.dynamicValue)}),$e.innerHTML="",m.supportedLocales.sort().forEach(c=>{const[a,s]=c.split("-"),o=document.createElement("option");o.value=c,o.textContent=m.t(`${a}${s}`),a===m.currentLanguageAndLocale.language&&s===m.currentLanguageAndLocale.locale&&(o.selected=!0),$e.append(o)})};$e.addEventListener("change",async()=>{const[t,e]=$e.value.split("-");try{await m.setLanguageAndLocale(t,e),Jt()}catch(n){console.error(n.name,n.message)}});ut.addEventListener("click",async()=>{const t=(e,n,r)=>{v[e].value=r,De[e].textContent=ie(n,r),De[e].dataset.dynamicValue=r};mt.forEach(e=>{for(const[n,r]of e)t(n,r.unit,r.initial)}),P.checked=P.defaultChecked,opttolerance.disabled=!P.defaultChecked,R.checked=R.defaultChecked,$.checked=$.defaultChecked,await Er(),zt(),await A()});let it=null;const O=(t,e=5e3)=>{if(Q.innerHTML=t,Q.hidden=!1,it&&clearTimeout(it),e!==1/0){it=setTimeout(()=>{Q.hidden=!0,Q.textContent=""},e);return}},Ir=()=>{Q.hidden=!0,Q.textContent=""},Zt=async()=>{await X(Y),document.querySelectorAll(".advanced").forEach(t=>{Y.checked?t.style.display="block":t.style.display="none"})};Y.addEventListener("change",Zt);document.documentElement.style.setProperty("--100vh",`${window.innerHeight}px`);window.addEventListener("resize",Ie(()=>{document.documentElement.style.setProperty("--100vh",`${window.innerHeight}px`)},250));jt.addEventListener("click",()=>{st.open=!1});const Er=async()=>{await W(k.checked?pt:ht,{})},Be=async()=>{const t=k.checked?await re(pt):await re(ht);return t||{}},X=async t=>{const e=await Be();e[t.id]=t.type==="range"?t.value:t.checked,await W(k.checked?pt:ht,e)};try{self["workbox:window:6.5.2"]&&_()}catch{}function Mt(t,e){return new Promise(function(n){var r=new MessageChannel;r.port1.onmessage=function(i){n(i.data)},t.postMessage(e,[r.port2])})}function kr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $t(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sr(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=function(i,l){if(i){if(typeof i=="string")return $t(i,l);var c=Object.prototype.toString.call(i).slice(8,-1);return c==="Object"&&i.constructor&&(c=i.constructor.name),c==="Map"||c==="Set"?Array.from(i):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?$t(i,l):void 0}}(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(n=t[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.5.2"]&&_()}catch{}var at=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})};function ot(t,e){var n=location.href;return new URL(t,n).href===new URL(e,n).href}var de=function(t,e){this.type=t,Object.assign(this,e)};function Se(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function xr(){}var Cr={type:"SKIP_WAITING"};function Vt(t,e){if(!e)return t&&t.then?t.then(xr):Promise.resolve()}var Pr=function(t){var e,n;function r(a,s){var o,u;return s===void 0&&(s={}),(o=t.call(this)||this).nn={},o.tn=0,o.rn=new at,o.en=new at,o.on=new at,o.un=0,o.an=new Set,o.cn=function(){var h=o.fn,d=h.installing;o.tn>0||!ot(d.scriptURL,o.sn.toString())||performance.now()>o.un+6e4?(o.vn=d,h.removeEventListener("updatefound",o.cn)):(o.hn=d,o.an.add(d),o.rn.resolve(d)),++o.tn,d.addEventListener("statechange",o.ln)},o.ln=function(h){var d=o.fn,g=h.target,E=g.state,V=g===o.vn,U={sw:g,isExternal:V,originalEvent:h};!V&&o.mn&&(U.isUpdate=!0),o.dispatchEvent(new de(E,U)),E==="installed"?o.wn=self.setTimeout(function(){E==="installed"&&d.waiting===g&&o.dispatchEvent(new de("waiting",U))},200):E==="activating"&&(clearTimeout(o.wn),V||o.en.resolve(g))},o.dn=function(h){var d=o.hn,g=d!==navigator.serviceWorker.controller;o.dispatchEvent(new de("controlling",{isExternal:g,originalEvent:h,sw:d,isUpdate:o.mn})),g||o.on.resolve(d)},o.gn=(u=function(h){var d=h.data,g=h.ports,E=h.source;return Se(o.getSW(),function(){o.an.has(E)&&o.dispatchEvent(new de("message",{data:d,originalEvent:h,ports:g,sw:E}))})},function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];try{return Promise.resolve(u.apply(this,h))}catch(g){return Promise.reject(g)}}),o.sn=a,o.nn=s,navigator.serviceWorker.addEventListener("message",o.gn),o}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i,l,c=r.prototype;return c.register=function(a){var s=(a===void 0?{}:a).immediate,o=s!==void 0&&s;try{var u=this;return function(h,d){var g=h();return g&&g.then?g.then(d):d(g)}(function(){if(!o&&document.readyState!=="complete")return Vt(new Promise(function(h){return window.addEventListener("load",h)}))},function(){return u.mn=Boolean(navigator.serviceWorker.controller),u.yn=u.pn(),Se(u.bn(),function(h){u.fn=h,u.yn&&(u.hn=u.yn,u.en.resolve(u.yn),u.on.resolve(u.yn),u.yn.addEventListener("statechange",u.ln,{once:!0}));var d=u.fn.waiting;return d&&ot(d.scriptURL,u.sn.toString())&&(u.hn=d,Promise.resolve().then(function(){u.dispatchEvent(new de("waiting",{sw:d,wasWaitingBeforeRegister:!0}))}).then(function(){})),u.hn&&(u.rn.resolve(u.hn),u.an.add(u.hn)),u.fn.addEventListener("updatefound",u.cn),navigator.serviceWorker.addEventListener("controllerchange",u.dn),u.fn})})}catch(h){return Promise.reject(h)}},c.update=function(){try{return this.fn?Vt(this.fn.update()):void 0}catch(a){return Promise.reject(a)}},c.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},c.messageSW=function(a){try{return Se(this.getSW(),function(s){return Mt(s,a)})}catch(s){return Promise.reject(s)}},c.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&Mt(this.fn.waiting,Cr)},c.pn=function(){var a=navigator.serviceWorker.controller;return a&&ot(a.scriptURL,this.sn.toString())?a:void 0},c.bn=function(){try{var a=this;return function(s,o){try{var u=s()}catch(h){return o(h)}return u&&u.then?u.then(void 0,o):u}(function(){return Se(navigator.serviceWorker.register(a.sn,a.nn),function(s){return a.un=performance.now(),s})},function(s){throw s})}catch(s){return Promise.reject(s)}},i=r,(l=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&kr(i.prototype,l),r}(function(){function t(){this.Pn=new Map}var e=t.prototype;return e.addEventListener=function(n,r){this.Sn(n).add(r)},e.removeEventListener=function(n,r){this.Sn(n).delete(r)},e.dispatchEvent=function(n){n.target=this;for(var r,i=Sr(this.Sn(n.type));!(r=i()).done;)(0,r.value)(n)},e.Sn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},t}());function Or(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisterError:l}=t;let c;const a=async(s=!0)=>{};return"serviceWorker"in navigator&&(c=new Pr("/sw.js",{scope:"/",type:"classic"}),c.addEventListener("activated",s=>{s.isUpdate?window.location.reload():r?.()}),c.register({immediate:e}).then(s=>{i?.(s)}).catch(s=>{l?.(s)})),a}"launchQueue"in window&&p(()=>import("./filehandling.37872a8a.js"),[]);"windowControlsOverlay"in navigator&&p(()=>import("./windowcontrols.16970c20.js"),[]);"onbeforeinstallprompt"in window&&"onappinstalled"in window?p(()=>import("./install.3ae4d5ec.js"),[]):Te.style.display="none";"share"in navigator&&"canShare"in navigator?p(()=>import("./share.2c8f1f36.js"),[]):Oe.style.display="none";"serviceWorker"in navigator&&window.addEventListener("load",async()=>{if(await navigator.serviceWorker.register("./sharetargetsw.js",{scope:"/share-target/"}),location.search.includes("share-target")){const t=await caches.keys(),e=await caches.open(t.filter(r=>r.startsWith("media"))[0]),n=await e.match("shared-image");if(n){const r=await n.blob();await e.delete("shared-image");const i=URL.createObjectURL(r);w.addEventListener("load",()=>{URL.revokeObjectURL(i)},{once:!0}),w.src=i}}});const Rr=()=>{let t=!1;const e={get type(){t=!0}};try{new Worker("blob://",e)}finally{return t}};(async()=>(_r(),Rr()||await p(()=>import("./module-workers-polyfill.min.dc7647fd.js"),[]),Or({onOfflineReady(){O(m.t("readyToWorkOffline"))},onNeedRefresh(){location.reload()}})()))();location.href==="https://svgco.de/"&&p(()=>import("./collect.6b4b7dfe.js"),[]);export{ve as F,Ar as a,Te as b,Oe as c,Ie as d,y as e,O as f,m as g,Ir as h,w as i,Fn as j,re as k,Tr as m,Me as o,W as s};
